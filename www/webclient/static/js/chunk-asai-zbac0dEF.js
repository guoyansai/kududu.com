import{u as a}from"./chunk-asai-BqAQUyUs.js";import{d as e,b as t,e as l,h as o,r as s,j as u,o as r,l as n,k as d,q as i,N as c,E as m,u as p,w as h}from"./chunk-asai-BcUlmSst.js";import{_ as v}from"./entry-asai-C1GKnLJc.js";import"./chunk-asai-Dt9XmewB.js";import"./chunk-asai-BEbmHGt4.js";const k={class:"io-comp"},f={class:"io-comp-title"},y={class:"io-add"},j={class:"column"},N={class:"column-left"},g={key:0,class:"column-right"},b=v(e({__name:"RoSetiofunction",props:{attrsai:{},attrdata:{},attrrules:{},keyName:{},attrtype:{},type:{},ujt:{},asaicomp:{}},setup(e){const v=e,{$global:b,$fn:V}=v.ujt,{optionFormat:_}=a(v.ujt),w=t({iocolumns:[{label:"变量",data:0,width:"200",scopedSlots:"default"},{label:"触发条件",data:1,width:"200",scopedSlots:"default"},{label:"动作",column:!0,data:2,scopedSlots:"default"},{label:"操作",align:"center",width:"150px",scopedSlots:"operate"}]}),x=l("Instruction/runProject"),S=o((()=>[].map((a=>a.content.label)))),C=o((()=>v.attrrules[v.keyName].data.length<3?[A(),...v.attrrules[v.keyName].data]:v.attrrules[v.keyName].data)),U=()=>{var a;let e="";(null==(a=v.attrrules[v.keyName])?void 0:a.data.length)&&v.attrrules[v.keyName].data[0].length&&(e=v.attrrules[v.keyName].data[0][0].value),v.attrdata[v.keyName].push(["",e,0,""])},A=()=>{var a,e,t,l;let o=[],s=[];null==(e=null==(a=v.attrrules[v.keyName])?void 0:a.ctrl)||e.type;for(let u of s)if(null==(l=null==(t=v.attrrules[v.keyName])?void 0:t.ctrl)?void 0:l.isrepeat){let a=[];for(let e of v.attrdata[v.keyName])a.push(e[0]);o.push({label:u.name,value:u.port,disabled:a.includes(u.port)})}else o.push({label:u.name,value:u.port});return o};return(a,e)=>{const t=s("AsSvg"),l=s("el-button"),o=s("el-select"),b=s("el-table");return r(),u("div",k,[n("div",f,i(a.attrrules[a.keyName].lang[1]),1),n("div",y,[d(l,{circle:"",title:"新增",onClick:U},{default:c((()=>[d(t,{color:"#A8ABB2",height:"18px",src:"common/plus"})])),_:1})]),d(b,{data:a.attrdata[a.keyName],columns:w.iocolumns,hover:!1,overflow:!1},{default:c((({row:e,index:t,col:l,cindex:s})=>[n("div",j,[n("div",N,[d(o,{modelValue:e[s],"onUpdate:modelValue":a=>e[s]=a,onChange:a=>((a,e,t)=>{2===t&&4===(null==e?void 0:e.length)&&e.pop(),a===x.value&&e.push({projectName:""})})(a,e,l.data),options:p(_)(C.value[l.data]),ujt:a.ujt},null,8,["modelValue","onUpdate:modelValue","onChange","options","ujt"])]),l.column&&e.includes(x.value)?(r(),u("div",g,[d(o,{modelValue:e[3].projectName,"onUpdate:modelValue":a=>e[3].projectName=a,placeholder:"请选择工程",options:S.value,isItem:"",ujt:a.ujt},null,8,["modelValue","onUpdate:modelValue","options","ujt"])])):h("",!0)])])),operate:c((({row:a,index:e})=>[d(l,{type:"danger",text:"",onClick:a=>(a=>{v.attrdata[v.keyName].splice(a,1)})(e)},{default:c((()=>[m(i(p(V).lg("cocommon.delete")),1)])),_:2},1032,["onClick"])])),_:1},8,["data","columns"])])}}}),[["__scopeId","data-v-86a4ef57"]]);export{b as default};
