import{d as e,b as a,h as l,r as t,j as s,o as u,l as o,k as i,N as n,q as d,u as c,F as r,s as p,w as m,E as v,c as b}from"./chunk-asai-BcUlmSst.js";import{_ as g}from"./entry-asai-C1GKnLJc.js";import"./chunk-asai-Dt9XmewB.js";import"./chunk-asai-BEbmHGt4.js";const h={class:"as-mapping"},V={class:"as-mapping_header"},y={class:"as-mapping_content"},j={class:"table-content_th"},x={class:"table-operate"},f={class:"table-td"},k={class:"table-td table-td-name"},U={class:"table-td-input"},_={key:0,class:"table-td-btn"},w={class:"curves"},M={class:"curves-y"},T={class:"curves-y-max"},C={class:"curves-y-min"},S={class:"curves-img"},D={class:"curves-unit"},A={class:"curves-x"},N={class:"curves-x-min"},R={class:"curves-x-max"},I={class:"table-td"},L={class:"table-operate"},$={class:"as-mapping_footer"},q=g(e({__name:"RoSetmapping",props:{attrrules:{},keyName:{},ujt:{},asaicomp:{}},setup(e){const g=e,{$fn:q,$global:E}=g.ujt,F=a({tableData:[],register:[],set:"设置",disarm:"解除"});q.ws.cocontrol.wsApi({ty:"welder/getMappingList",db:""}).then((e=>{F.tableData=e.db||[]})),q.ws.cocontrol.wsApi({ty:"welder/getRegisterList",db:""}).then((e=>{F.register=e.db.map((e=>({label:e.label[1],value:e.value})))}));const G=l((()=>g.attrrules[g.keyName].data.registerType.map((e=>({label:e.label[1],value:e.value,curves:e.curves,isSetTemp:e.isSetTemp})))));function O(){F.tableData.push({name:"",type:"",aliases:"",setTemp:!1})}function z(){q.ws.cocontrol.wsApi({ty:"welder/mappingGeneralRegisters",db:F.tableData}).then((e=>{E.msg.fn({type:"ok",con:q.lg("coview.common.saveOk")})}))}return(e,a)=>{const l=t("AsSvg"),g=t("el-button"),E=t("el-select"),B=t("CustomInputNumber"),H=t("el-input"),J=t("el-popover");return u(),s("div",h,[o("div",V,[i(g,{type:"primary",onClick:O},{default:n((()=>[i(l,{src:"add",color:"var(--ibg)",height:"var(--fs2)"})])),_:1})]),o("div",y,[o("div",j,[a[0]||(a[0]=o("div",{class:"table-th"}," 寄存器名称 ",-1)),a[1]||(a[1]=o("div",{class:"table-th"}," 功能名 ",-1)),a[2]||(a[2]=o("div",{class:"table-th"}," 别名 ",-1)),o("div",x,d(c(q).lg("cocommon.operate")),1)]),(u(!0),s(r,null,p(F.tableData,((t,r)=>(u(),s("div",{class:"table-content_td",key:"table"+r},[o("div",f,[i(E,{modelValue:t.name,"onUpdate:modelValue":e=>t.name=e,options:F.register,ujt:e.ujt},null,8,["modelValue","onUpdate:modelValue","options","ujt"])]),o("div",k,[o("div",U,[i(E,{modelValue:t.type,"onUpdate:modelValue":e=>t.type=e,options:G.value,onChange:(e,a)=>{!function(e,a,l){l.aliases=a.label,l.isSetTemp=!!a.isSetTemp,a.curves?l.curves={xMin:0,xMax:0,yMin:0,yMax:0,unit:""}:(null==l?void 0:l.curves)&&delete l.curves}(0,a,t)},ujt:e.ujt},null,8,["modelValue","onUpdate:modelValue","options","onChange","ujt"])]),(null==t?void 0:t.curves)?(u(),s("div",_,[i(J,{width:"370px",ujt:e.ujt},{reference:n((()=>[i(g,{type:"primary"},{default:n((()=>[i(l,{src:"robotwatch",color:"var(--ibg)",height:"var(--fs2)"})])),_:1})])),default:n((()=>[o("div",w,[o("div",M,[o("div",T,[a[3]||(a[3]=v(" max： ")),i(B,{modelValue:t.curves.yMax,"onUpdate:modelValue":e=>t.curves.yMax=e,attrrules:{rexin:"[^0-9-.]",step:1,hideunit:!0,hidereplace:!0,hidebtn:!0},ujt:e.ujt},null,8,["modelValue","onUpdate:modelValue","ujt"])]),o("div",C,[a[4]||(a[4]=v(" min： ")),i(B,{modelValue:t.curves.yMin,"onUpdate:modelValue":e=>t.curves.yMin=e,attrrules:{rexin:"[^0-9-.]",step:1,hideunit:!0,hidereplace:!0,hidebtn:!0},ujt:e.ujt},null,8,["modelValue","onUpdate:modelValue","ujt"])])]),o("div",S,[a[6]||(a[6]=o("img",{src:"./assets/img/robot/weldcurves.png",alt:""},null,-1)),o("div",D,[a[5]||(a[5]=v(" 单位： ")),i(H,{modelValue:t.curves.unit,"onUpdate:modelValue":e=>t.curves.unit=e},null,8,["modelValue","onUpdate:modelValue"])])]),o("div",A,[o("div",N,[a[7]||(a[7]=v(" min： ")),i(B,{modelValue:t.curves.xMin,"onUpdate:modelValue":e=>t.curves.xMin=e,attrrules:{rexin:"[^0-9-.]",step:1,hideunit:!0,hidereplace:!0,hidebtn:!0},ujt:e.ujt},null,8,["modelValue","onUpdate:modelValue","ujt"])]),o("div",R,[a[8]||(a[8]=v(" max： ")),i(B,{modelValue:t.curves.xMax,"onUpdate:modelValue":e=>t.curves.xMax=e,attrrules:{rexin:"[^0-9-.]",step:1,hideunit:!0,hidereplace:!0,hidebtn:!0},ujt:e.ujt},null,8,["modelValue","onUpdate:modelValue","ujt"])])])])])),_:2},1032,["ujt"])])):m("",!0)]),o("div",I,[i(H,{modelValue:t.aliases,"onUpdate:modelValue":e=>t.aliases=e,placeholder:"请输入文字"},null,8,["modelValue","onUpdate:modelValue"])]),o("div",L,[t.isSetTemp?(u(),b(g,{key:0,type:t.setTemp?"warning":"success",onClick:e=>{var a;(a=t).setTemp=!a.setTemp}},{default:n((()=>[v(d(F[t.setTemp?"disarm":"set"]),1)])),_:2},1032,["type","onClick"])):m("",!0),i(g,{type:"danger",onClick:e=>function(e){F.tableData.splice(e,1)}(r)},{default:n((()=>[v(d(c(q).lg("cocommon.delete")),1)])),_:2},1032,["onClick"])])])))),128))]),o("div",$,[o("div",{class:"save_btn",onClick:z},d(c(q).lg("cocommon.save")),1)])])}}}),[["__scopeId","data-v-f6bc9a47"]]);export{q as default};
