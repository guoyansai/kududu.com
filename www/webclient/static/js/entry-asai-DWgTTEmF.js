const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./chunk-asai-Clftu3gY.js","./chunk-asai-B97Ffvgy.js","../asset/css-asai-BtwBApgJ.css","./chunk-asai-r-RiexoZ.js","./chunk-asai-DonLEY8w.js","../asset/css-asai-DwSTwgbo.css","./chunk-asai-DaE_MDbS.js","../asset/css-asai-D1f9piEc.css","./chunk-asai-Cglt8wM7.js","./chunk-asai-CJsSuoj3.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,a,l)=>((t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l)(t,"symbol"!=typeof a?a+"":a,l);import{d as a,g as l,r as n,c as o,o as s,u as i,a as r,p as u,t as d,b as c,e as p,f as v,h as m,i as g,j as f,k as h,l as b,m as j,F as _,n as k,q as w,s as $,v as S,w as O,x as M,y as P,z as C,A as T,B as A,C as L,D as U,E as z,G as E,H as I,I as W,J as R,K as q,L as D,M as N,N as F,T as H,O as B,P as V,Q as J}from"./chunk-asai-B97Ffvgy.js";const X=Object.freeze(Object.defineProperty({__proto__:null,get default(){return gn}},Symbol.toStringTag,{value:"Module"}));!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const Y={},G=function(e,t,a){let l=Promise.resolve();if(t&&t.length>0){const e=document.getElementsByTagName("link"),n=document.querySelector("meta[property=csp-nonce]"),o=(null==n?void 0:n.nonce)||(null==n?void 0:n.getAttribute("nonce"));l=Promise.allSettled(t.map((t=>{if(t=function(e,t){return new URL(e,t).href}(t,a),t in Y)return;Y[t]=!0;const l=t.endsWith(".css"),n=l?'[rel="stylesheet"]':"";if(!!a)for(let a=e.length-1;a>=0;a--){const n=e[a];if(n.href===t&&(!l||"stylesheet"===n.rel))return}else if(document.querySelector(`link[href="${t}"]${n}`))return;const s=document.createElement("link");return s.rel=l?"stylesheet":"modulepreload",l||(s.as="script"),s.crossOrigin="",s.href=t,o&&s.setAttribute("nonce",o),document.head.appendChild(s),l?new Promise(((e,a)=>{s.addEventListener("load",e),s.addEventListener("error",(()=>a(new Error(`Unable to preload CSS for ${t}`))))})):void 0})))}function n(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return l.then((t=>{for(const e of t||[])"rejected"===e.status&&n(e.reason);return e().catch(n)}))};class K{constructor(e={}){t(this,"baseURL"),t(this,"ujt"),t(this,"interceptors",{request:[],response:[]}),t(this,"defaultConfig",{headers:{"Content-Type":"application/json"},timeout:1e4}),this.baseURL=e.baseURL,this.ujt=e.ujt}async api(e,t={}){var a,l,n;const o=new AbortController,s=o.signal,i=setTimeout((()=>o.abort()),t.timeout||this.defaultConfig.timeout);try{const o={url:this.baseURL+e};t.body instanceof FormData?o.opt=t:o.opt={...this.defaultConfig,...t,signal:s,headers:{...this.defaultConfig.headers,...t.headers}},null==(n=null==(l=null==(a=this.ujt)?void 0:a.$fn)?void 0:l.lo)||n.call(l,2,"Req",o);let r=Promise.resolve(o);this.interceptors.request.forEach((e=>{r=r.then((t=>e(t)))}));const{url:u,opt:d}=await r,c=await fetch(u,d);clearTimeout(i);const p=await this._parseResponse(c);let v=Promise.resolve(this._getRes(p,t));return this.interceptors.response.forEach((e=>{v=v.then((t=>{var a,l,n;return null==(n=null==(l=null==(a=this.ujt)?void 0:a.$fn)?void 0:l.lo)||n.call(l,3,"Res",t),e(t)}))})),v}catch(r){throw clearTimeout(i),this._handleError(r)}}apiGet(e,t={},a={}){const l=new URLSearchParams(t).toString(),n=this._getReq(l,a);return this.api(`${e}${n?"?"+n:""}`,{...a,method:"GET"})}apiPost(e,t,a={}){return this.api(e,{...a,method:"POST",body:t instanceof FormData?t:this._stringifyData(this._getReq(t,a),a.headers)})}apiUpload(e,t,a){const l=new FormData;return l.append("file",t),this.apiPost(e,l,{...a})}apiDownload(e,t){return this.apiGet(e,null,{responseType:"blob"}).then((e=>{const a=document.createElement("a");a.href=URL.createObjectURL(e),a.download=t,a.click()}))}_getReq(e,t){var a,l,n,o,s,i;return(null==t?void 0:t.mm)&&(null==(n=null==(l=null==(a=this.ujt)?void 0:a.$fn)?void 0:l.AsCode)?void 0:n.asdecode)&&(null==(i=null==(s=null==(o=this.ujt)?void 0:o.$global)?void 0:s.code)?void 0:i.pri)&&e&&(e=this.ujt.$fn.AsCode.asencode("string"==typeof e?e:JSON.stringify(e),this.ujt.$global.code.pri)),e}_getRes(e,t){var a,l,n,o,s,i;if((null==t?void 0:t.mm)&&(null==(n=null==(l=null==(a=this.ujt)?void 0:a.$fn)?void 0:l.AsCode)?void 0:n.asdecode)&&(null==(i=null==(s=null==(o=this.ujt)?void 0:o.$global)?void 0:s.code)?void 0:i.pri)&&(null==e?void 0:e.data)&&"string"==typeof e.data){e.data=this.ujt.$fn.AsCode.asdecode(e.data,this.ujt.$global.code.pri);try{e.data=JSON.parse(e.data)}catch(r){}}return e}_parseResponse(e){const t=e.headers.get("content-type");return(null==t?void 0:t.includes("application/json"))?e.json():(null==t?void 0:t.includes("text/"))?e.text():e.blob()}_stringifyData(e,t){const a=null==t?void 0:t["Content-Type"];return e instanceof FormData||"string"==typeof e?e:"application/json"===a||"object"==typeof e?JSON.stringify(e):String(e)}_handleError(e){return"AbortError"===e.name?{code:504,message:"Request Timeout"}:{code:500,message:e.message||"Network Error"}}ictReq(e){this.interceptors.request.push(e)}ictRes(e){this.interceptors.response.push(e)}}const Q={AsaiWorker:class{constructor(e,a=navigator.hardwareConcurrency||4){t(this,"workerScript"),t(this,"maxWorkers"),t(this,"taskQueue",[]),t(this,"workers",new Map),t(this,"taskMap",new Map),t(this,"taskId",0),this.workerScript=e,this.maxWorkers=a}async execute(e){return new Promise(((t,a)=>{const l=this.taskId++;this.taskQueue.push({taskId:l,taskData:e}),this.taskMap.set(l,{resolve:t,reject:a}),this._processNext()}))}_createWorker(){const e=new Worker(this.workerScript,{type:"module"});return e.onmessage=t=>{const{taskId:a,result:l,error:n}=t.data,o=this.taskMap.get(a);o&&(n?o.reject(n):o.resolve(l),this.taskMap.delete(a)),this.workers.delete(e),e.terminate(),this._processNext()},e.onerror=t=>{console.error("Worker error:",t),this.workers.delete(e),this._createWorker()},this.workers.set(e,!0),e}_processNext(){for(;this.taskQueue.length>0&&this.workers.size<this.maxWorkers;){const e=this.taskQueue.shift();this._createWorker().postMessage({taskId:e.taskId,data:e.taskData})}}terminateAll(){this.workers.forEach(((e,t)=>t.terminate())),this.workers.clear(),this.taskQueue=[]}},AsaiApi:K,AsaiWs:class{constructor(e={}){var a,l,n,o,s,i,r,u;t(this,"wsname"),t(this,"wsworker"),t(this,"wssec"),t(this,"wsurl"),t(this,"ujt"),t(this,"baseURL"),t(this,"reconnectAttempts",0),t(this,"maxReconnectDelay",0),t(this,"messageQueue",[]),t(this,"isSending",!1),t(this,"wstaskMap",new Map),t(this,"cleanupInterval"),this.wsname=e.wsname,this.wsworker=e.wsworker,this.wssec=e.wssec,this.wsurl=e.wsurl,this.ujt=e.ujt,this.baseURL=e.baseURL,(null==(o=null==(n=null==(l=null==(a=this.ujt.$global.link)?void 0:a.ws)?void 0:l[this.wsname])?void 0:n.config)?void 0:o.tmdeltask)&&(this.cleanupInterval=setInterval((()=>{if(this.wstaskMap.size){const e=Date.now();this.wstaskMap.forEach(((t,a)=>{var l,n,o,s;!t.type&&t.timestamp&&e-t.timestamp>(null==(s=null==(o=null==(n=null==(l=this.ujt.$global.link)?void 0:l.ws)?void 0:n[this.wsname])?void 0:o.config)?void 0:s.tmdeltask)/2&&this.wstaskMap.delete(a)}))}}),null==(u=null==(r=null==(i=null==(s=this.ujt.$global.link)?void 0:s.ws)?void 0:i[this.wsname])?void 0:r.config)?void 0:u.tmdeltask))}Uuid(e="",t=0,a=32){return[Date.now().toString(36).slice(-9),t.toString(36),e.slice(-3),crypto.getRandomValues(new Uint8Array(6)).reduce(((e,t)=>e+(15&t).toString(a)),"")].join("").slice(0,16)}wsSend(e){"object"==typeof e&&(e=JSON.stringify(e)),this.wsSendMsg(e)}wsApi(e){return new Promise(((t,a)=>{let l;try{"ping"===e?l="pong":e?"object"==typeof e?(l={...e},(null==l?void 0:l.id)||(l.id=this.Uuid("ws")),e=JSON.stringify(l)):(l=JSON.parse(e),(null==l?void 0:l.id)||(l.id=this.Uuid("ws"),e=JSON.stringify(l))):(l={id:this.Uuid("ws")},e=JSON.stringify(l))}catch(n){}this.wsWatchDo(l,(e=>{var a,l,n;null==(n=null==(l=null==(a=this.ujt)?void 0:a.$fn)?void 0:l.lo)||n.call(l,5,"wsGet",this.wstaskMap.size,e),t(e)}))}))}wsWatch(e,t){var a,l,n;null==(n=null==(l=null==(a=this.ujt)?void 0:a.$fn)?void 0:l.lo)||n.call(l,3,"wsWatch",e),this.wsWatchDo(e,t)}wsWatchDo(e,t){const a=this.getKeyByData(e);let l={};l="ping"==e||"object"==typeof e&&(null==e?void 0:e.id)?{type:0,timestamp:Date.now()}:{type:1},this.wstaskMap.set(a,{callback:t,...l}),this.wsSend(e)}wsWatchOff(e){var t,a,l;null==(l=null==(a=null==(t=this.ujt)?void 0:t.$fn)?void 0:a.lo)||l.call(a,6,"wsWatchOff",e),!e.off&&(e.off=1),this.wsSend(e);const n=this.getKeyByData(e);this.wstaskMap.get(n)&&this.wstaskMap.delete(n)}wsWatchWork(e){var t,a,l;const n=this.getKeyByData(e),o=this.wstaskMap.get(n);o&&(o.callback(e),o.type||(null==(l=null==(a=null==(t=this.ujt)?void 0:t.$fn)?void 0:a.lo)||l.call(a,3,"Delete",n),this.wstaskMap.delete(n)))}async wsSendMsg(e){var t,a,l;if(this.messageQueue.push(e),!this.isSending){for(this.isSending=!0;this.messageQueue.length>0;){const e=this.messageQueue.shift();null==(l=null==(a=null==(t=this.ujt)?void 0:t.$fn)?void 0:a.lo)||l.call(a,4,"wsSend",this.messageQueue.length,e),await this.sendSingleMessage(e)}this.isSending=!1}}sendSingleMessage(e){return new Promise(((t,a)=>{this.init().then((()=>{var l,n,o,s,i,r,u,d,c,p,v,m;this.wsworker?"function"==typeof(null==(n=null==(l=this.ujt.$fn.workers[this.wsname])?void 0:l.instance)?void 0:n.postMessage)?(null==(s=null==(o=this.ujt.$fn.workers[this.wsname])?void 0:o.instance)||s.postMessage({type:"send",data:e}),t()):a():(null==(i=this.ujt.$fn.ws[this.wsname].socket)?void 0:i.readyState)===WebSocket.OPEN?(this.ujt.$fn.ws[this.wsname].socket.send(e),(null==(r=this.ujt.$global.link.ws[this.wsname].config)?void 0:r.resend)&&(this.ujt.$global.link.ws[this.wsname].config.resend=0),t()):(null==(u=this.ujt.$global.link.ws[this.wsname].config)?void 0:u.resendmax)&&(null==(d=this.ujt.$global.link.ws[this.wsname].config)?void 0:d.resend)<=(null==(c=this.ujt.$global.link.ws[this.wsname].config)?void 0:c.resendmax)?(this.wsSendMsg(e),this.ujt.$global.link.ws[this.wsname].config.resend++,t()):(null==(m=null==(v=null==(p=this.ujt)?void 0:p.$fn)?void 0:v.lo)||m.call(v,5,"Err",this.ujt.$global.link.ws[this.wsname].config.resend),a(new Error("Max send attempts reached")))})).catch(a)}))}getKeyByData(e){return"pong"===e?e:(null==e?void 0:e.id)||(null==e?void 0:e.ty)}newWorker(e,t){try{"undefined"!=typeof Worker&&e.id?(e.workers[e.id]||(e.workers[e.id]={instance:new Worker(window.URL.createObjectURL(new Blob([`eval(${e.fn.toString()})(${JSON.stringify(e.params)},this,'')`]))),callbacks:new Set}),e.workers[e.id].callbacks.add(t),e.workers[e.id].instance.onmessage=t=>{e.workers[e.id].callbacks.forEach((e=>e(t.data)))}):e.fn(e.params,"",t)}catch(a){console.error("Worker creation error:",a)}}initWsWorker(e,t){this.newWorker({fn:function(e,t,a){const l={};function n(){o.close(),o=null,t.postMessage("onclose"),t.terminate()}let o=this.wssec&&this.ujt.$global.code.token?new WebSocket(e.url,this.ujt.$global.code.token):new WebSocket(e.url);o.onmessage=e=>{!function(e,t){var a,n;if(null==e?void 0:e.data)if("pong"===e.data)t(e.data);else if("string"==typeof e.data)try{const o=JSON.parse(e.data);if(null==o?void 0:o.ty){const s=null==o?void 0:o.ty;l[s]?l[s].s===e.data?l[s].t&&(l[s].t=0):(l[s].s=e.data,l[s].v=o,l[s].t||(l[s].t=1)):l[s]={s:e.data,v:o,t:1},(null==(a=l[s])?void 0:a.t)&&t(null==(n=l[s])?void 0:n.v)}}catch(o){t(e.data)}}(e,t.postMessage)},o.onclose=e=>{t.postMessage("onclose")},o.onerror=e=>{t.postMessage("onerror")},o.onopen=e=>{o.open=1,t.postMessage("onopen")},t.onmessage=e=>{var t,a,l;(null==o?void 0:o.open)?"close"===(null==(t=null==e?void 0:e.data)?void 0:t.type)?n():"send"===(null==(a=null==e?void 0:e.data)?void 0:a.type)&&o.send((null==(l=null==e?void 0:e.data)?void 0:l.data)||""):n()}},params:{url:e},id:this.wsname,workers:this.ujt.$fn.workers},(e=>{e&&"null"!==e&&t(e)}))}init(){const e=this;return new Promise(((t,a)=>{var l;try{(null==(l=this.ujt.$ws[this.wsname])?void 0:l.open)?t(this.ujt):("WebSocket"in window||a({error:"WebSocket is null!"}),this.wsworker?this.initWsWorker(this.wsurl,(e=>{"onclose"===e?i():"onerror"===e?s():"onopen"===e?(n(),t(this.ujt)):o(e)})):(this.ujt.$fn.ws[this.wsname]||(this.ujt.$fn.ws[this.wsname]={}),this.ujt.$fn.ws[this.wsname].socket=this.wssec&&this.ujt.$global.code.token?new WebSocket(this.wsurl,this.ujt.$global.code.token):new WebSocket(this.wsurl),this.ujt.$fn.ws[this.wsname].socket.onmessage=function(e){o(e.data)},this.ujt.$fn.ws[this.wsname].socket.onclose=i,this.ujt.$fn.ws[this.wsname].socket.onerror=s,this.ujt.$fn.ws[this.wsname].socket.onopen=e=>{n(e),t(this.ujt)}))}catch(r){s(r),a(r)}function n(t=null){e.ujt.$ws[e.wsname]||(e.ujt.$ws[e.wsname]={}),e.ujt.$ws[e.wsname].open=!0}function o(t){if(e.wstaskMap.size)try{"object"==typeof t?e.wsWatchWork(t):e.wsWatchWork(JSON.parse(t))}catch(r){e.wsWatchWork(t)}}function s(t=null){var l,n,o,s,i;(null==(n=null==(l=null==e?void 0:e.ujt)?void 0:l.$ws)?void 0:n[null==e?void 0:e.wsname])&&(e.ujt.$ws[e.wsname].open=!1,e.ujt.$global.stat[e.wsname]=0),null==(i=null==(s=null==(o=null==e?void 0:e.ujt)?void 0:o.$global)?void 0:s.msg)||i.fn({type:"err",con:e.wsname+" is error!"}),a(t)}function i(t=null){var a,l;e.ujt.$ws[e.wsname]&&(e.ujt.$ws[e.wsname].open=!1,e.ujt.$global.stat[e.wsname]=0),null==(l=null==(a=e.ujt.$global)?void 0:a.msg)||l.fn({type:"err",con:e.wsname+" is close!"}),function(){if(e.maxReconnectDelay){const t=Math.min(1e3*Math.pow(2,e.reconnectAttempts),e.maxReconnectDelay);setTimeout((()=>e.init()),t),e.reconnectAttempts++}}()}}))}},AsaiModel:function(e="./webmodel/"){const t=new K({baseURL:e});function a(e,l){var n;const o=[];return(null==(n=null==e?void 0:e.dir)?void 0:n.length)&&e.dir.forEach((n=>{const s=l+n,i=s.lastIndexOf("/");o.push(null==t?void 0:t.apiGet(s).then((t=>{const l=s.substring(i+1);e[l.substring(0,l.indexOf("."))]=t,o.push(Promise.all(a(t,s.substring(0,i+1))))})))})),o}return{fetchPublic:function(e,l=""){return new Promise(((n,o)=>{null==t||t.apiGet(e).then((t=>{Promise.all(a(t,e.substring(0,e.lastIndexOf("/")+1)+l)).then((()=>{n(t)})).catch((e=>{o(e)}))})).catch((e=>{o(e)}))}))}}}},Z=a({__name:"App",setup(e){var t;const a=null==(t=l())?void 0:t.proxy,{$ujtasai:d}=a.$engineasai.useProvide({AsaiJsAs:Q});u("$vueProxy",a);const c={appVer:1,indexRouters:{testkdd:r((()=>G((()=>import("./chunk-asai-Clftu3gY.js")),__vite__mapDeps([0,1,2]),import.meta.url))),kududu:r((()=>G((()=>import("./chunk-asai-r-RiexoZ.js")),__vite__mapDeps([3,1]),import.meta.url))),blog:r((()=>G((()=>import("./chunk-asai-DonLEY8w.js")),__vite__mapDeps([4,1,5]),import.meta.url))),novel:r((()=>G((()=>import("./chunk-asai-DaE_MDbS.js")),__vite__mapDeps([6,1,7]),import.meta.url))),views:r((()=>G((()=>import("./chunk-asai-Cglt8wM7.js")),__vite__mapDeps([8,1]),import.meta.url)))}};return(e,t)=>{const a=n("AsaiInitPage");return s(),o(a,{appopt:c,ujt:i(d)},null,8,["ujt"])}}}),ee={},te={mounted(e,t){let a=!1,l=0,n=0,o=0,s=0;"string"==typeof t.value.dom?ee.dragDom=document.getElementById(t.value.dom):ee.dragDom=e;const i=t=>{a=!0;const o=ee.dragDom.getBoundingClientRect();ee.dragDom.style.position="absolute",ee.dragDom.style.transform=`translate(${o.x}px, ${o.y}px)`,l=t.clientX-o.x,n=t.clientY-o.y,e.style.cursor="grabbing",document.addEventListener("pointermove",r),document.addEventListener("pointerup",u)},r=e=>{if(a){o=e.clientX-l,s=e.clientY-n;const t=window.innerWidth-ee.dragDom.offsetWidth,a=window.innerHeight-ee.dragDom.offsetHeight;o=Math.max(0,Math.min(o,t)),s=Math.max(0,Math.min(s,a)),ee.dragDom.style.transform=`translate(${o}px, ${s}px)`}},u=()=>{a=!1,e.style.cursor="grab",document.removeEventListener("pointermove",r),document.removeEventListener("pointerup",u)};e.addEventListener("pointerdown",i),ee.unmounted=()=>{e.removeEventListener("pointerdown",i)}},unmounted(e){ee.unmounted()}},ae=Object.freeze(Object.defineProperty({__proto__:null,default:te},Symbol.toStringTag,{value:"Module"})),le={mounted(e,t){const a=document.getElementById(t.value.domarea);let l=!1,n={x:0,y:0},o=null,s=1;const i=()=>{if(!a)return 1;const e=getComputedStyle(a).transform;if(e.startsWith("matrix(")){const t=e.split(", ");return parseFloat(t[0])}return 1},r=t=>{l&&o&&requestAnimationFrame((()=>{s=i();const l=(t.clientX-o.left)/s-n.x,r=(t.clientY-o.top)/s-n.y,u=a.value.offsetWidth-e.offsetWidth,d=a.value.offsetHeight-e.offsetHeight;x.value=Math.max(0,Math.min(l,u)),y.value=Math.max(0,Math.min(r,d))}))},u=e=>{a.value&&(l=!0,o=a.value.getBoundingClientRect(),s=i(),n={x:(e.clientX-o.left)/s-x.value,y:(e.clientY-o.top)/s-y.value},document.addEventListener("mousemove",r),document.addEventListener("mouseup",d))},d=()=>{l=!1,document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",d)};e.addEventListener("mousedown",u),window.addEventListener("resize",(()=>o=null)),v((()=>{e.removeEventListener("mousedown",u),window.removeEventListener("resize",(()=>{})),d()}))}},ne=Object.freeze(Object.defineProperty({__proto__:null,default:le},Symbol.toStringTag,{value:"Module"})),oe={},se={mounted(e,t){var a,l,n,o,s,i,r,u,d,c;let p=!1,v={x:0,y:0},m={x:0,y:0},g=null,f=1;const h=((null==(l=null==(a=t.value)?void 0:a.dom)?void 0:l.drag)?document.getElementById(t.value.dom.drag):"")||e,y=((null==(o=null==(n=t.value)?void 0:n.dom)?void 0:o.dragarea)?document.getElementById(t.value.dom.dragarea):"")||h,b=((null==(c=null==(d=null==(u=null==(r=null==(i=null==(s=t.value)?void 0:s.ujt)?void 0:i.$model)?void 0:r.data)?void 0:u.sys)?void 0:d.configzoom)?void 0:c.id)?document.getElementById(t.value.ujt.$model.data.sys.configzoom.id):"")||document.body,j=()=>{var e,a,l;return b&&(null==(l=null==(a=null==(e=t.value)?void 0:e.ujt)?void 0:a.$global)?void 0:l.scale)||1},_=e=>{p&&g&&requestAnimationFrame((()=>{f=j();const a=(e.clientX-g.left)/f-v.x,l=(e.clientY-g.top)/f-v.y,n=b.offsetWidth-y.offsetWidth,o=b.offsetHeight-y.offsetHeight;t.value.pos?(t.value.pos.x=+Math.max(0,Math.min(a,n)).toFixed(6),t.value.pos.y=+Math.max(0,Math.min(l,o)).toFixed(6)):y.style.transform=`translate(${+Math.max(0,Math.min(a,n)).toFixed(6)}px,${+Math.max(0,Math.min(l,o)).toFixed(6)}px)`}))},k=e=>{var a,l;if(console.log("dragging",e),b){if(null==(a=t.value)?void 0:a.pos)m=t.value.pos;else{const e=null==(l=window.getComputedStyle(y).transform)?void 0:l.split(", ");if(e.length>2){const t=e.pop().slice(0,-1)||0,a=e.pop()||0;m={x:parseFloat(a),y:parseFloat(t)}}else m={x:0,y:0}}p=!0,g=b.getBoundingClientRect(),f=j(),v={x:(e.clientX-g.left)/f-m.x,y:(e.clientY-g.top)/f-m.y},h.setPointerCapture(e.pointerId),document.addEventListener("pointermove",_),document.addEventListener("pointerup",w),document.addEventListener("pointercancel",w)}},w=e=>{h.hasPointerCapture(e.pointerId)&&(p=!1,h.releasePointerCapture(e.pointerId),document.removeEventListener("pointermove",_),document.removeEventListener("pointerup",w),document.removeEventListener("pointercancel",w))};h.addEventListener("pointerdown",k);const $=()=>g=null;window.addEventListener("resize",$),oe.unmounted=()=>{h.removeEventListener("pointerdown",k),window.removeEventListener("resize",$)}},unmounted(e){oe.unmounted()}},ie=Object.freeze(Object.defineProperty({__proto__:null,default:se},Symbol.toStringTag,{value:"Module"})),re={mounted(e,t){var a,l;(null==(a=null==t?void 0:t.value)?void 0:a.right)||(null==e?void 0:e.classList)&&!(null==(l=e.classList)?void 0:l.contains("asai-hidden"))&&e.classList.add("asai-hidden")}},ue=Object.freeze(Object.defineProperty({__proto__:null,default:re},Symbol.toStringTag,{value:"Module"})),de={},ce={mounted(e,t){var a,l,n;const{ujt:o,scale:s}=t.value;let i,r={x:0,y:0};const u=(null==(n=null==(l=null==(a=null==o?void 0:o.$model)?void 0:a.data)?void 0:l.sys)?void 0:n.configzoom)||{width:1920,height:1200};let d,c,p,v,m=!1;const g=t=>{var a;i=(()=>{var e;return s||(null==(e=null==o?void 0:o.$global)?void 0:e.scale)||1})(),m=!0,d=t.clientX,c=t.clientY,p=e.offsetWidth,v=e.offsetHeight;const l=null==(a=window.getComputedStyle(e).transform)?void 0:a.split(", "),n=l.pop().slice(0,-1),u=l.pop();r={x:parseFloat(u),y:parseFloat(n)},e.style.transform=`translate(${r.x}px,${r.y}px)`,e.setPointerCapture(t.pointerId),e.addEventListener("pointermove",f),e.addEventListener("pointerup",h),e.addEventListener("pointercancel",h)},f=t=>{if(!m)return;const a=(t.clientX-d)/i,l=(t.clientY-c)/i,n=Math.min(Math.max(88,p+a),u.width-r.x),o=Math.min(Math.max(58,v+l),u.height-r.y);e.style.width=n+"px",e.style.height=o+"px"},h=t=>{e.hasPointerCapture(t.pointerId)&&(m=!1,e.releasePointerCapture(t.pointerId),e.removeEventListener("pointermove",f),e.removeEventListener("pointerup",h),e.removeEventListener("pointercancel",h))},y=document.createElement("div");y.classList.add("resize-bottom-right"),e.appendChild(y),y.addEventListener("pointerdown",g),de.unmounted=()=>{y.removeEventListener("pointerdown",g),y&&y.remove()}},unmounted(e){de.unmounted()}},pe=Object.freeze(Object.defineProperty({__proto__:null,default:ce},Symbol.toStringTag,{value:"Module"})),ve={mounted(e,t){var a,l,n;const{ujt:o,scale:s,id:i}=t.value,r=(null==(n=null==(l=null==(a=null==o?void 0:o.$model)?void 0:a.data)?void 0:l.sys)?void 0:n.configzoom)||{width:1920};let u,d=1,c=!1,p=0,v=0;const m=e=>{var t;(u=document.getElementById(i),u)?(e.preventDefault(),d=s||(null==(t=null==o?void 0:o.$global)?void 0:t.scale)||1,c=!0,p=e.clientX,v=u.offsetWidth,console.log(666.222,v),document.addEventListener("pointermove",g),document.addEventListener("pointerup",f)):console.error(`未找到 ID 为 ${i} 的元素`)},g=e=>{if(c){const t=(p-e.clientX)/d,a=Math.max(100,v+t);u.style.width=Math.min(a,r.width)+"px",u.style.minWidth=Math.min(a,r.width)+"px"}},f=()=>{c=!1,document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",f)};e.addEventListener("pointerdown",m);e.__unmountResize=()=>{e.removeEventListener("pointerdown",m)}},unmounted(e){e.__unmountResize&&(e.__unmountResize(),delete e.__unmountResize)}},me=Object.freeze(Object.defineProperty({__proto__:null,default:ve},Symbol.toStringTag,{value:"Module"})),ge=Object.freeze(Object.defineProperty({__proto__:null,default:(e,t="webserver")=>{const{$model:a,$global:l,$fn:n}=e;return n.api[t]||(n.api[t]=new n.AsaiApi({baseURL:n.As.getUrlByCfg(l.link.api[t]),Userinfo:l.user.info,ujt:e}),n.api[t].ictReq((async({url:e,opt:t})=>{var a;return(null==t?void 0:t.mm)&&(null==(a=null==l?void 0:l.code)?void 0:a.token)&&(t.headers.Userinfo=`${l.code.token}`),{url:e,opt:t}})),n.api[t].ictRes((e=>([908].includes(e.code)?e.data="":[909,200].includes(e.code),e)))),console.log(666.333,"初始化API请求服务",n.api[t]),n.api[t]}},Symbol.toStringTag,{value:"Module"})),fe={getUrlByCfg:(e=null,t=null)=>(null==e?void 0:e.url)?e.url:(null==e?void 0:e.port)?(t?window.location.protocol.includes("s")?"wss":"ws":window.location.protocol)+"//"+window.location.hostname+":"+e.port:window.location.origin,setCookies(e,t,a=0,l="/"){let n="";if(a){const e=new Date;e.setTime(e.getTime()+a),n="; expires="+e.toUTCString()}document.cookie=e+"="+encodeURIComponent(t)+n+"; path="+(l||"/")},cookiesSet(e,t,a=0,l="/"){try{let n="";if(a){const e=new Date;e.setTime(e.getTime()+a),n="; expires="+e.toUTCString()}document.cookie=e+"="+t+n+"; path="+(l||"/")}catch(n){}},cookiesGet(e){try{const t=document.cookie;let a=t.substring(t.indexOf(e+"=")+(e+"=").length);const l=a.indexOf("; ");return l>-1?a.substring(0,l):a}catch(t){}return""},cookiesDel(e){this.setCookies(e,"",-1e3)},cookiesClear(){const e=document.cookie.split("; ");for(let t=0;t<e.length;t++){const a=e[t],l=a.indexOf("="),n=l>-1?a.substring(0,l):a;document.cookie=n+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/"}},localTime(e,t=0){if(t){const a=JSON.parse(this.localGet("astime")||"{}");a[e]=t,localStorage.setItem("astime",JSON.stringify(a))}else{const t=JSON.parse(this.localGet("astime")||"{}");if(t[e])return t[e]}return 0},localSet(e,t,a=localStorage){try{a.setItem(e,this.toStr(t))}catch(l){}},localGet(e,t=localStorage){try{return t.getItem(e)}catch(a){}return""},localRemove(e,t=localStorage){try{return t.removeItem(e)}catch(a){}},localClears(e=null,t=localStorage){if(null==e?void 0:e.length){let a;for(let l in t)a=e.find((e=>l.startsWith(e))),a&&this.localRemove(l,t)}else this.localClear(t)},localClear(e=localStorage){e.clear()},localInit(e=localStorage){this.localClear(e),location.replace("/#"),this.localReload()},localReload(){location.reload()},getPath:(e="-")=>null==e?void 0:e.replace(/[^a-zA-Z0-9.\-_\\\/]/g,""),getName:(e="-")=>null==e?void 0:e.replace(/[^a-zA-Z0-9.\-_]/g,""),fullScreen(e=""){const t=e?document.getElementById(e):document.documentElement||document.body,a=t.requestFullScreen||t.webkitRequestFullScreen||t.mozRequestFullScreen||t.msRequestFullScreen;if(a)a.call(t);else{const{ActiveXObject:e}=window;if(void 0!==e){const t=new e("WScript.Shell");null!==t&&t.SendKeys("{F11}")}}},fullScreenExit(){const e=null==document?void 0:document.exitFullscreen;if(e)null!==document.fullscreenElement&&e.call(document);else{const{ActiveXObject:e}=window;if(void 0!==e){const t=new e("WScript.Shell");null!==t&&t.SendKeys("{F11}")}}},fullScreenDo(e=null){document.fullscreenElement?this.fullScreenExit():this.fullScreen(),e&&e()},toNums(e,t=0){return e&&Object.keys(e).forEach((a=>{"number"==typeof e[a]&&(e[a]=this.toNum(e[a],t))})),e},toNum:(e,t=0)=>("number"!=typeof e&&"string"==typeof e&&(e=Number(e)),Number.isNaN(e)&&(e=0),e&&t&&(e=Math.round(e*10**t)/10**t),e),toObj(e){try{return e&&"string"==typeof e?JSON.parse(e):e}catch(t){return{err:"不是JSON格式数据"}}},toStr(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){const a=[];return JSON.stringify(e,((e,t)=>{if("object"==typeof t&&null!==t){if(-1!==a.indexOf(t))return;a.push(t)}return t}))}},getTime(e=6,t=0){let a,l="";a=t?new Date(t):new Date;const[n,o]=e>9?e+"":"0"+e;function s(e){return+n<=e&&+o>=e}return s(1)&&(l+=("00"+a.getFullYear()).slice(-4)+"-"),s(2)&&(l+=("00"+(a.getMonth()+1)).slice(-2)+"-"),s(3)&&(l+=("00"+a.getDate()).slice(-2)+" "),s(4)&&(l+=("00"+a.getHours()).slice(-2)+":"),s(5)&&(l+=("00"+a.getMinutes()).slice(-2)+":"),s(6)&&(l+=("00"+a.getSeconds()).slice(-2)+"."),s(7)&&(l+=("000"+a.getMilliseconds()).slice(-3)+" "),s(9)?l.replace(/\D/g,""):l?l.substring(0,l.length-1):l},Uuid:(e="",t=0,a=32)=>[Date.now().toString(36).slice(-9),t.toString(36),e.slice(-3),crypto.getRandomValues(new Uint8Array(6)).reduce(((e,t)=>e+(15&t).toString(a)),"")].join("").slice(0,16)},he=Object.freeze(Object.defineProperty({__proto__:null,default:fe},Symbol.toStringTag,{value:"Module"})),ye={asencode(e,t){const a=e.length,l=t.length;let n="";for(let o=0;o<a;o++){const a=Math.round(1e3*Math.random())%l,s=Number(a.toString().slice(-1))+1,i=l-s;let r=e.codePointAt(o);const u=r%i;r=(r-u)/i;const d=r%i;r=(r-d)/i,n+=t[r%i+s]+t[d+s]+t[u+s]+t.charAt(a)}return n},asdecode(e,t){try{const a=e.length,l=t.length;let n="";for(let o=0;o<a;o++){const a=t.indexOf(e[o+3]),s=Number(a.toString().slice(-1))+1,i=l-s;n+=null==String?void 0:String.fromCodePoint((t.indexOf(e[o++])-s)*i*i+(t.indexOf(e[o++])-s)*i+(t.indexOf(e[o++])-s))}return n}catch(a){return""}},getCodeData(e,t){try{return e=JSON.parse(e),JSON.parse(this.asdecode(e.data,this.asdecode(e.code,t)))}catch(a){return}},sendCodeData(e,t,a){return{code:a,data:this.asencode(JSON.stringify(e),this.asdecode(a,t))}},asnewkey(e){const t=[];return e.split("").forEach((e=>{t.splice(Math.round(Math.random()*t.length),0,e)})),t.join("")}},be=Object.freeze(Object.defineProperty({__proto__:null,default:ye},Symbol.toStringTag,{value:"Module"})),je={getHref(){var e;return null==(e=null==window?void 0:window.location)?void 0:e.href},setHash(e={},t=""){t&&!t.startsWith("/")&&(t=`/${t}`),e.hash=t||"",window.location.hash=e.hash},getQuery:(e={},t="")=>(e.query={},t&&t.split("&").forEach((t=>{const[a,l]=t.split("=");a&&l&&(e.query[a]=decodeURIComponent(l))})),e.query),getHasharr(e){let t=e.hash;if(e.hasharr=[],t){t.startsWith("/")&&(t=t.slice(1));const[a,l]=t.split("?");let n=(null==a?void 0:a.split("/"))||[];for(;n.length>0&&""===n[n.length-1];)n.pop();e.hasharr=n,this.getQuery(e,l)}return e.hasharr},setRouter(e){var t,a;this.getHasharr(e);const l=e.hasharr||[],n=(null==(t=e.hasharr)?void 0:t.length)||0;if(e.comps=[],n>0){let t="";for(let a=0;a<n;a++)t=`${t}${l[a]}/`,e.comps[a]=a==n-1?`${t}default`:`${t}index`}return(null==(a=e.comps)?void 0:a.length)||(e.comps[0]="default"),e.comps}},_e=Object.freeze(Object.defineProperty({__proto__:null,default:je},Symbol.toStringTag,{value:"Module"})),ke=Object.freeze(Object.defineProperty({__proto__:null,default:e=>{const{$fn:t,$db:a,$global:l,$model:n}=e.ujt;function o(){return"file"==a[e.opt.channel].dbtype?"/api/asaichannel/file":"/api/asaichannel/sqlite"}function s(){return Object.keys(a[e.opt.channel].rfdata.lang)}function i(t=0){const a={model:e.opt.model,channel:e.opt.channel};return t&&(a.field=s().join("-")),a}function r(e=0){return"?"+new URLSearchParams(i(e)).toString()}function u(l){l&&t.api.webserver.apiGet(o()+"/select/"+l+"/",i(1)).then((t=>{a[e.opt.channel].rfdata.data=t.data[0]}))}function d(n=1,r=0){var u,d;const c=(null==(u=s())?void 0:u[0])||"tit";t.api.webserver.apiGet(o()+"/select/",{...i(),svty:r,fd:"sn-"+c,ps:a[e.opt.channel].cmPageSize,...null==(d=l.location)?void 0:d.query}).then((s=>{a[e.opt.channel].list=s.data,function(n=1){var s,r;n||t.api.webserver.apiGet(o()+"/select/",{...i(),fd:"sn",...null==(s=l.location)?void 0:s.query,sx:"",sxty:"",pc:0,pg:0,ps:Number(null==(r=a[e.opt.channel].config)?void 0:r.pmax)||1e4}).then((e=>{var a;t.setquery({pc:null==(a=e.data)?void 0:a.length},1)}))}(n)}))}function c(e){var a;t.setquery({pg:e||1},1),d((null==(a=l.location.query)?void 0:a.pc)||0)}function p(){const a={sn:()=>t.As.Uuid(e.opt.channel.substring(0,2)),hi:()=>1,xi:()=>1,yi:()=>0,tm:()=>Date.now(),tx:()=>Date.now(),us:()=>l.user.info.us};return l.location.query.fl&&(a.class=()=>l.location.query.fl),a}return{initChannel:function(){a[e.opt.channel]={stat:0,fetch:d,setpage:c},t.initmodel(e.opt.model+"/channel/"+e.opt.channel+".json").then((t=>{var o,s;Object.assign(a[e.opt.channel],t),a[e.opt.channel].rfdata={rule:{...(null==(o=n.data.asai.asaichannel)?void 0:o.rule)||{},...(null==(s=a[e.opt.channel])?void 0:s.rule)||{}},lang:{...l.lang[e.opt.channel].data,...l.lang.asaichannel.data}},a[e.opt.channel].stat=1}))},initAddChannel:function(){const t=p();a[e.opt.channel].rfdata.data={},Object.keys(a[e.opt.channel].rfdata.lang).forEach((l=>{a[e.opt.channel].rfdata.data[l]=t[l]?t[l]():""}))},setChannelClass:function(l){t.setquery({fl:l}),a[e.opt.channel].fetch(0)},delItem:function(e){t.api.webserver.apiPost(o()+"/delete/"+r()).then((e=>{d(0,1)}))},editItem:function(e){t.setquery({show:e,showty:"1"},1),u(e)},readItem:u,deleteItem:function(t){l.pop["popconfirm"+e.opt.channel].stat=1,l.pop["popconfirm"+e.opt.channel].con=t.con,l.pop["popconfirm"+e.opt.channel].fn=t.fn},setPage:c,setShow:function(e){t.setquery({show:e,showty:""},1),u(e)},fetchContent:d,searchSubmit:function(){var n,o;!l.location.query.ssty&&l.location.query.ss&&(l.location.query.ssty=null==(o=null==(n=a[e.channel])?void 0:n.sss)?void 0:o[1]),t.setquery({pg:1},1),a[e.channel].fetch(0)},addContent:function(){t.api.webserver.apiPost(o()+"/insert/"+a[e.opt.channel].rfdata.data.sn+r(1),a[e.opt.channel].rfdata.data).then((t=>{a[e.opt.channel].fetch(0,1)}))},editContent:function(){t.api.webserver.apiPost(o()+"/update/"+a[e.opt.channel].rfdata.data.sn+"/"+r(1),a[e.opt.channel].rfdata.data).then((t=>{a[e.opt.channel].fetch(1,1)}))},getDefaultValue:p}}},Symbol.toStringTag,{value:"Module"})),we=Object.freeze(Object.defineProperty({__proto__:null,default:e=>{const{$global:t}=e.ujt;return{getPageList:function(e){const a=Number(t.location.query.pc)||0,l=0===a?0:Math.ceil(a/e);if(0===l)return[];let n=Math.min(Math.max(Number(t.location.query.pg)||1,1),l),o=Math.max(n-Math.floor(e/2),1),s=o+e-1;return s>l&&(s=l,o=Math.max(s-e+1,1)),Array.from({length:s-o+1},((e,t)=>o+t))}}}},Symbol.toStringTag,{value:"Module"})),$e=Object.freeze(Object.defineProperty({__proto__:null,default:e=>{var t,a,l;const{ujt:n}=e,{$fn:o,$db:s,$global:i}=e.ujt,{initToken:r}=o.useInitUser(n,"webserver"),u=c({us:(null==(t=i.location.query)?void 0:t.us)||(null==(l=null==(a=i.user)?void 0:a.info)?void 0:l.us)||"",pw:"",pwn:"",pwnn:"",lv:1,msg:""}),d=m((()=>Object.entries(o.lg("channeluser.lv")).filter((e=>{var t;return(null==(t=i.user.info)?void 0:t.lv)>e[0]}))));function p(){return new Promise(((e,t)=>{u.us?o.api.webserver.apiGet("/api/user/userinfo/select/"+u.us+"/","",{mm:1}).then((a=>{var l,n,o,r,u,d,c,p,v,m,g,f,h,y,b;console.log(666.807809,a,null==(u=a.data[0])?void 0:u[null==(r=Object.keys(null==(o=null==(n=i.lang)?void 0:n[null==(l=s.channeluser)?void 0:l.sn])?void 0:o.data))?void 0:r[1]]),(null==(m=a.data[0])?void 0:m[null==(v=Object.keys(null==(p=null==(c=i.lang)?void 0:c[null==(d=s.channeluser)?void 0:d.sn])?void 0:p.data))?void 0:v[1]])?e(null==(b=a.data[0])?void 0:b[null==(y=Object.keys(null==(h=null==(f=i.lang)?void 0:f[null==(g=s.channeluser)?void 0:g.sn])?void 0:h.data))?void 0:y[1]]):t()})).catch((e=>{t(e)})):t()}))}function v(e){i.user.info={us:e.us,lv:e.lv||1},r(),o.ws.web.wsApi({ty:"user/login",db:i.user.info}).then((e=>{o.As.localSet("as-user-info",o.As.toStr(i.user.info)),i.msg.fn({type:"ok",con:o.lg("channeluser.msg.loginok",[i.user.info.us])}),o.sethash("")}))}function g(e=1,t=0){var a;o.api.webserver.apiGet("/api/user/userinfo/selectlist/",{svty:t,fd:"us-lv",ps:s.channeluser.cmPageSize,...null==(a=i.location)?void 0:a.query}).then((t=>{s.channeluser.list=t.data,function(e=1){var t,a;0==+e&&o.api.webserver.apiGet("/api/user/userinfo/selectlist/",{fd:"us",...null==(t=i.location)?void 0:t.query,sx:"",sxty:"",pc:0,pg:0,ps:Number(null==(a=s.channeluser.config)?void 0:a.pmax)||1e4}).then((e=>{var t;o.setquery({pc:null==(t=e.data)?void 0:t.length},1)}))}(e)}))}function f(){return o.api.webserver.apiPost("/api/user/userinfo/insert/"+u.us+"/",{us:u.us,pw:u.pw,lv:u.lv}).then((e=>{i.msg.fn({type:"ok",con:o.lg("channeluser.msg.regok",[u.us])}),g(0,1)})).catch((e=>{i.msg.fn({type:"err",tit:o.lg("channeluser.msg.regerr",[u.us])})}))}return{initUserChannel:function(){s.channeluser={stat:0,rfdata:{lang:m((()=>i.lang.channeluser.data))}},o.initmodel("asai/channel/channeluser.json").then((e=>{Object.assign(s.channeluser,e),s.channeluser.stat=1}))},rfuserinfodata:u,userReg:function(){p().then((e=>{i.msg.fn({type:"err",tit:o.lg("channeluser.msg.userexist",[u.us])})})).catch((e=>{u.us&&u.pw?f():i.msg.fn({type:"err",con:o.lg("channeluser.msg.regerr",[u.us])})}))},userLogin:function(){p().then((e=>{const t=JSON.parse(e);u.pw===t.pw?v(t):i.msg.fn({type:"err",tit:o.lg("channeluser.msg.passworderr")})})).catch((e=>{i.msg.fn({type:"err",con:o.lg("channeluser.msg.loginerr",[u.us])})}))},userExit:function(){o.exit(),setTimeout((()=>{o.sethash(""),o.As.localReload()}),1e3)},userEdit:function(){u.pwn&&u.pwn===u.pwnn?p().then((e=>{const t=JSON.parse(e);u.pw===t.pw?(t.pw=u.pwn,function(e){e.pw=u.pwn,o.api.webserver.apiPost("/api/user/userinfo/update/"+e.us+"/",{us:e.us,pw:e.pw,lv:e.lv},{mm:1}).then((t=>{i.msg.fn({type:"ok",con:o.lg("channeluser.msg.editok",[e.us])})})).catch((t=>{i.msg.fn({type:"err",con:o.lg("channeluser.msg.editerr",[e.us])})}))}(t)):i.msg.fn({type:"err",tit:o.lg("channeluser.msg.passworderr")})})).catch((e=>{i.msg.fn({type:"err",con:o.lg("channeluser.msg.nouser",[u.us])})})):i.msg.fn({type:"err",con:o.lg("channeluser.msg.passwordtips")})},fetchContent:g,getOnline:function(){o.ws.web.wsApi({ty:"user/online",db:""}).then((e=>{s.channeluser.count=e.db})).catch((e=>{console.error(666.133,e)}))},editUser:function(){return o.api.webserver.apiPost("/api/user/userinfo/update/"+u.us+"/",{us:u.us,pw:u.pw,lv:u.lv},{mm:1}).then((e=>{i.msg.fn({type:"ok",con:o.lg("channeluser.msg.editok",[u.us])}),g(1,0)})).catch((e=>{i.msg.fn({type:"err",con:o.lg("channeluser.msg.editerr",[u.us])})}))},initUser:function(){p().then((e=>{e&&("string"==typeof e&&(e=JSON.parse(e)),u.us=e.us,u.pw=e.pw,u.lv=e.lv||1)})).catch((e=>{i.msg.fn({type:"err",tit:o.lg("channeluser.msg.nouser",[u.us])})}))},delUser:function(e=""){e&&(u.us=e),p().then((e=>{e&&("string"==typeof e&&(e=JSON.parse(e)),i.user.info.lv>e.lv&&i.user.info.us!=e.us?o.api.webserver.apiGet("/api/user/userinfo/delete/"+u.us+"/").then((e=>{i.msg.fn({type:"ok",tit:o.lg("channeluser.msg.delok",[u.us])}),g(0,1)})).catch((e=>{u.msg=o.lg("channeluser.msg.delerr",[u.us]),i.msg.fn({type:"err",tit:u.msg})})):(u.msg=o.lg("channeluser.msg.delerr",[u.us]),i.msg.fn({type:"err",tit:u.msg})))})).catch((e=>{i.msg.fn({type:"err",tit:o.lg("channeluser.msg.delerr",[u.us])})}))},addUser:function(){p().then((e=>{i.msg.fn({type:"err",tit:o.lg("channeluser.msg.userexist",[u.us])})})).catch((e=>{f()}))},setPage:function(e){var t;o.setquery({pg:e||1},1),g((null==(t=i.location.query)?void 0:t.pc)||0)},cmLvList:d}}},Symbol.toStringTag,{value:"Module"})),Se=Object.freeze(Object.defineProperty({__proto__:null,default:e=>{const{$fn:t,$model:a,$db:l,$dbwork:n}=e;return{initAppModel:function(e="testkdd"){const o=g("$vueProxy");o.$installplugs(e),(null==o?void 0:o["$engine"+e])&&(Object.assign(t,o["$engine"+e]),(null==o?void 0:o["$engineuse"+e])&&Object.assign(t,o["$engineuse"+e])),a[e]||(a[e]={}),n[e]||(n[e]={}),l[e]||(l[e]={}),t.setconfig=(e,a)=>t.api.webserver.apiPost("/api/asaijson/manage/update/?path=/webclient/webmodel/sys/configuser/"+e+".json",a),t.changelangpro=(l="")=>{var n,o,s,i;return(null==(i=null==(s=null==(o=null==(n=null==a?void 0:a.data)?void 0:n.sys)?void 0:o.settingsys)?void 0:s.local)?void 0:i.lang)?t.changelang(l).then((a=>{var l;e&&(null==(l=t.ws)?void 0:l[e])&&t.ws[e].wsSend({id:"1",ty:"common/setlanguage",db:a})})):t.setconfig("configlang",{lang:l})},t.changethemepro=(e="")=>{var l,n,o,s;return(null==(s=null==(o=null==(n=null==(l=null==a?void 0:a.data)?void 0:l.sys)?void 0:n.settingsys)?void 0:o.local)?void 0:s.theme)?t.changetheme(e):t.setconfig("configtheme",{theme:e})};const s=[t.initlang("")];return s.push(t.initmodel(e+"/dirmodel.json").then((t=>{t&&Object.assign(a[e],t)}))),Promise.all(s)}}}},Symbol.toStringTag,{value:"Module"})),Oe=Object.freeze(Object.defineProperty({__proto__:null,default:(e,t="webserver")=>{const{$fn:a,$global:l}=e;function n(){return new Promise(((e,n)=>{var o;try{let n=a.As.localGet("as-user-code");n?(n=a.As.toObj(n),l.code.pri=n[0],l.code.pub=n[1],e()):null==(o=a.api[t])||o.apiGet("/api/init/code/").then((t=>{l.code.pri=t.data[0],l.code.pub=t.data[1],a.As.localSet("as-user-code",a.As.toStr(t.data)),e()}))}catch(s){n(s)}}))}function o(){var e,t;l.code.token=a.AsCode.asencode(null==(e=l.user.info)?void 0:e.us,l.code.pri)+"##"+a.AsCode.asencode(null==(t=l.user.info)?void 0:t.lv,l.code.pri)+"##"+l.code.pub}function s(){return new Promise(((e,t)=>{try{n().then((()=>{!l.code.token&&l.code.pri&&a.As.localGet("as-user-info")&&(l.user.info=a.As.toObj(a.As.localGet("as-user-info")),o()),e()})).catch((e=>{t(e)}))}catch(s){t(s)}}))}return{initServer:n,initUserToken:s,initToken:o,initUserOnline:function(){return new Promise(((e,t)=>{l.user.online=0;try{s().then((()=>{l.code.token&&a.ws.web.wsApi({ty:"user/login",db:l.user.info}).then((t=>{l.user.online=1,e()}))})).catch((e=>{t(e)}))}catch(n){t(n)}}))}}}},Symbol.toStringTag,{value:"Module"})),xe=c({providedb:{data:{}}}),Me=c({providedbwork:{data:{}}}),Pe=c({provideglobal:{data:{config:{theme:"",lang:""},theme:"",stat:{webclient:0,web:0,cocontrol:0},user:{info:null,online:0},code:{pri:null,pub:null,token:""},location:{},pop:{}}}}),Ce=c({providews:{data:{}}}),Te={providefn:{data:{api:{},ws:{},workers:{}}}},Ae=Object.freeze(Object.defineProperty({__proto__:null,default:e=>{const{AsaiJsAs:t}=e,a=window;Object.assign(Te.providefn.data,{...t});const l={$db:xe.providedb.data,$dbwork:Me.providedbwork.data,$ws:Ce.providews.data,$global:Pe.provideglobal.data,$model:a.$GYS.$webmodel,$fn:Te.providefn.data};function n(e,t=18){let a="";return 1===e?a=o("black","pink",t+"px"):2===e?a=o("black","cyan",t+"px"):3===e?a=o("black","yellow",t+"px"):4===e?a=o("white","blue",t+"px"):5===e?a=o("white","red",t+"px"):6===e&&(a=o("white","green",t+"px")),a}function o(e,t,a="18px"){return"font-size:"+a+";font-weight:bold;border-radius:20px;padding:0 10px;color:"+e+";background-color:"+t+";"}function s(e){var t;try{return"size=>"+((e&&(null==(t=JSON.stringify(e))?void 0:t.length))/1024).toFixed(3)+"KB"}catch(a){return""}}a.$GYS.ujt=l,l.$fn.lo=(...e)=>{var t,a,s,i;if(e[0]){if((null==(i=null==(s=null==(a=null==(t=l.$model)?void 0:t.data)?void 0:a.sys)?void 0:s.settingsys)?void 0:i.console)&&e.length>0){let t="",a="",l="";if(e[1]&&"string"==typeof e[1]){const[s,i,...r]=e;a=i,l=r,Array.isArray(e[0])&&2===e[0].length?t=o(e[0][0],e[0][1],"12px"):"number"==typeof e[0]&&(t=n(s,12))}t?console.log("%c"+a,t,...l):console.log(...e)}}else l.$model.gysfn.log()},l.$model.gysfn.log=()=>(console.log("%c公共引擎$fn",n(6,18),s(l.$fn),l.$fn),console.log("%c模型数据$model",n(5,18),s(l.$model),l.$model),console.log("%c全局数据$global",n(4,18),s(l.$global),l.$global),console.log("%c通信数据$ws",n(3,18),s(l.$ws),l.$ws),console.log("%c页面数据$db",n(2,18),s(l.$db),l.$db),console.log("%c工作数据$dbwork",n(1,18),s(l.$dbwork),l.$dbwork),"以上为WEB模型最新状态，请查看。");const{fetchPublic:i}=l.$fn.AsaiModel("./webmodel/");l.$fn.initmodel=i,l.$fn.startLink=()=>new Promise(((e,t)=>{l.$fn.initmodel("sys/config/server.json").then((t=>{const a={api:{},ws:{}};["api","ws"].forEach((e=>{Object.keys((null==t?void 0:t[e])||{}).forEach((n=>{"default"!=n&&(a[e][n]={...t[e][n],url:l.$fn.As.getUrlByCfg(t[e][n])})}))})),l.$fn.As.localSet("as-link",JSON.stringify(a)),console.log(666.0088,a),l.$global.link=a,e(l.$global.link)})).catch((e=>{t(e)}))})),l.$fn.saveLink=e=>{l.$global.link=e,l.$fn.As.localSet("as-link",JSON.stringify(l.$global.link))},l.$fn.initLink=(e=0)=>new Promise(((t,a)=>{var n,o;if(e)l.$fn.startLink().then((e=>{t(e)})).catch((e=>{a(e)}));else{let e=l.$fn.As.localGet("as-link");e?(l.$global.link=JSON.parse(e),(null==(n=l.$global.link)?void 0:n.api)&&(null==(o=l.$global.link)?void 0:o.ws)?t(l.$global.link):l.$fn.startLink().then((e=>{t(e)})).catch((e=>{a(e)}))):l.$fn.startLink().then((e=>{t(e)})).catch((e=>{a(e)}))}}));const r=new Map,d=/\$(\d+)/g;return l.$fn.lg=(e,t)=>{if("string"!=typeof e||!e)return;let a=r.get(e);a||(a=e.split("."),r.set(e,a));const n=a.reduce(((e,t)=>null==e?void 0:e[t]),l.$global.lang);if(!t||0===t.length)return n;const o=Array.isArray(t)?t:[t];return n.replace(d,((e,t)=>{const a=parseInt(t,10)-1;return o[a]??e}))},l.$fn.changetheme=(e="")=>new Promise(((t,a)=>{var n,o,s,i,r,u,d,c,p,v,m,g,f,h,y,b,j,_,k,w;try{let a="";a=(null==(r=null==(i=null==(s=null==(o=null==(n=l.$model)?void 0:n.data)?void 0:o.sys)?void 0:s.settingsys)?void 0:i.local)?void 0:r.theme)?l.$fn.As.localGet(null==(v=null==(p=null==(c=null==(d=null==(u=l.$model)?void 0:u.data)?void 0:d.sys)?void 0:c.settingsys)?void 0:p.local)?void 0:v.theme)||l.$model.data.sys.configtheme.theme||l.$model.data.sys.settingstore.theme[0]:l.$model.data.sys.configtheme.theme||l.$model.data.sys.settingstore.theme[0],e&&a===e?t():("auto"===e?a=a==l.$model.data.sys.settingstore.theme[0]?l.$model.data.sys.settingstore.theme[1]:l.$model.data.sys.settingstore.theme[0]:e&&(a=e),(null==(y=null==(h=null==(f=null==(g=null==(m=l.$model)?void 0:m.data)?void 0:g.sys)?void 0:f.settingsys)?void 0:h.local)?void 0:y.theme)&&l.$fn.As.localSet(null==(w=null==(k=null==(_=null==(j=null==(b=l.$model)?void 0:b.data)?void 0:j.sys)?void 0:_.settingsys)?void 0:k.local)?void 0:w.theme,a)),l.$global.config.theme=a,t()}catch($){a($)}})),l.$fn.initlang=(e="")=>{var t,a,n,o,s,i,r,u,d,c,p;let v="";return v=(null==(s=null==(o=null==(n=null==(a=null==(t=l.$model)?void 0:t.data)?void 0:a.sys)?void 0:n.settingsys)?void 0:o.local)?void 0:s.lang)?e||l.$fn.As.localGet(null==(c=null==(d=null==(u=null==(r=null==(i=l.$model)?void 0:i.data)?void 0:r.sys)?void 0:u.settingsys)?void 0:d.local)?void 0:c.lang)||l.$model.data.sys.configlang.lang||l.$model.data.sys.settingstore.lang[0]:e||l.$model.data.sys.configlang.lang||l.$model.data.sys.settingstore.lang[0],(null==(p=l.$global)?void 0:p.lang)||(l.$global.lang={}),new Promise(((e,t)=>{l.$fn.initmodel("lang/dirlang.json",v+"/").then((t=>{Object.assign(l.$global.lang,t),e(l.$global.lang)})).catch((e=>{t(e)}))}))},l.$fn.changelang=(e="")=>{var t,a,n,o,s,i,r,u,d,c;let p="";return p=(null==(s=null==(o=null==(n=null==(a=null==(t=l.$model)?void 0:t.data)?void 0:a.sys)?void 0:n.settingsys)?void 0:o.local)?void 0:s.lang)?l.$fn.As.localGet(null==(c=null==(d=null==(u=null==(r=null==(i=l.$model)?void 0:i.data)?void 0:r.sys)?void 0:u.settingsys)?void 0:d.local)?void 0:c.lang)||l.$model.data.sys.configlang.lang||l.$model.data.sys.settingstore.lang[0]:l.$model.data.sys.configlang.lang||l.$model.data.sys.settingstore.lang[0],new Promise(((t,a)=>{var n,o,s,i,r,u,d,c,v,m;e&&p===e?t(p):("auto"===e?p=p==l.$model.data.sys.settingstore.lang[0]?l.$model.data.sys.settingstore.lang[1]:l.$model.data.sys.settingstore.lang[0]:e&&(p=e),(null==(r=null==(i=null==(s=null==(o=null==(n=l.$model)?void 0:n.data)?void 0:o.sys)?void 0:s.settingsys)?void 0:i.local)?void 0:r.lang)&&l.$fn.As.localSet(null==(m=null==(v=null==(c=null==(d=null==(u=l.$model)?void 0:u.data)?void 0:d.sys)?void 0:c.settingsys)?void 0:v.local)?void 0:m.lang,p),l.$global.config.lang=p,l.$fn.initlang(p).then((e=>{t(p)})).catch((e=>{a(e)})))}))},l.$fn.initweb=e=>new Promise(((t,n)=>{l.$model.gysfn.log();try{let n=function(){const{protocol:e,hostname:t,port:n,hash:o}=a.location;function s(){l.$fn.Router.setRouter(l.$global.location)}l.$global.location={protocol:e,hostname:t,port:n,hash:o.replace("#",""),comps:[],query:{}},s(),l.$fn.setquery=(e={},t=0)=>{let a;a=t?new URLSearchParams({...l.$global.location.query||{},...e||{}}).toString():new URLSearchParams(e||{}).toString(),a=a?l.$global.location.hash.split("?")[0]+"?"+a:l.$global.location.hash.split("?")[0],l.$fn.Router.setHash(l.$global.location,a),s()},l.$fn.sethash=(e="")=>{l.$fn.Router.setHash(l.$global.location,e),s()},l.$fn.exit=(e=0)=>{l.$fn.As.localSet("as-user-info",""),l.$global.user.info=null,l.$global.code.token=null,e&&(l.$fn.sethash(""),l.$fn.As.localReload())},l.$fn.login=()=>{l.$fn.As.localSet("as-user-info",""),l.$global.user.info=null,l.$fn.sethash("user/login")}};Object.assign(l.$fn,e.$engineasai||{}),Object.assign(l.$fn,e.$engineuseasai||{}),l.$fn.initmodel("asai/dirasai.json").then((e=>{l.$model.data.asai=e,l.$fn.initmodel("sys/dirsys.json").then((e=>{l.$model.data.sys=e,l.$fn.initLink().then((()=>{l.$fn.changetheme(),l.$fn.changelang().then((()=>{n(),t()}))}))}))}))}catch(o){n(o)}})),u("$ujtasai",l),{...l,$ujtasai:l}}},Symbol.toStringTag,{value:"Module"})),Le=Object.freeze(Object.defineProperty({__proto__:null,default:(e,t="web")=>{var a,l;const{$global:n,$fn:o}=e;return o.ws[t]||(o.ws[t]=new o.AsaiWs({wsurl:o.As.getUrlByCfg(n.link.ws[t]),Userinfo:n.user.info,wsname:t,wsworker:null==(a=n.link.ws[t])?void 0:a.worker,wssec:null==(l=n.link.ws[t])?void 0:l.sec,ujt:e})),o.ws[t]}},Symbol.toStringTag,{value:"Module"})),Ue=a({__name:"AsaiComponent",props:{ujt:{}},setup(e){const t=e,{$model:a,$global:l}=t.ujt;return(e,t)=>{var r,u,d,c,p,v,m,g,y,k,w,$,S,O;const x=n("PopMsg");return s(),f(_,null,[(s(),o(j(i(a).appopt.indexRouters[((null==(m=null==(c=null==(d=null==(u=null==(r=i(a).data)?void 0:r.sys)?void 0:u.router)?void 0:d.config)?void 0:c.models)?void 0:m.includes(null==(v=null==(p=i(l).location)?void 0:p.hasharr)?void 0:v[0]))?null==(y=null==(g=i(l).location)?void 0:g.hasharr)?void 0:y[0]:"")||(null==(O=null==(S=null==($=null==(w=null==(k=i(a).data)?void 0:k.sys)?void 0:w.router)?void 0:$.config)?void 0:S.models)?void 0:O[0])]),{ujt:e.ujt},null,8,["ujt"])),h(x,{ujt:e.ujt},null,8,["ujt"]),t[0]||(t[0]=b("div",{id:"popteleport"},null,-1))],64)}}}),ze=Object.freeze(Object.defineProperty({__proto__:null,default:Ue},Symbol.toStringTag,{value:"Module"})),Ee=a({__name:"AsaiWeb",props:{ujt:{}},setup(e){const t=e,{$model:a,$global:l}=t.ujt;return(e,t)=>{var a,o;const r=n("AsaiComponent");return s(),f("div",{id:"asaiweb",class:k("asaiweb asaiweb"+((null==(o=null==(a=i(l).location)?void 0:a.hasharr)?void 0:o[0])||"default")+" "+i(l).config.theme)},[h(r,{ujt:e.ujt},null,8,["ujt"])],2)}}}),Ie=(e,t)=>{const a=e.__vccOpts||e;for(const[l,n]of t)a[l]=n;return a},We=Ie(Ee,[["__scopeId","data-v-939034ad"]]),Re=Object.freeze(Object.defineProperty({__proto__:null,default:We},Symbol.toStringTag,{value:"Module"})),qe=a({__name:"AsaiWebServer",props:{ujt:{}},setup(e){const t=e,{$fn:a,$global:l,$model:r}=t.ujt,{initUserToken:u}=a.useInitUser(t.ujt,"webserver");return u(),(e,t)=>{var a,r;const u=n("AsaiComponent"),d=n("PageLoadServer");return s(),f("div",{id:"asaiwebserver",class:k("asaiweb asaiweb"+(null==(r=null==(a=i(l).location)?void 0:a.hasharr)?void 0:r[0])+" "+i(l).config.theme)},[i(l).code.pub?(s(),o(u,{key:0,ujt:e.ujt},null,8,["ujt"])):(s(),o(d,{key:1,ujt:e.ujt},null,8,["ujt"]))],2)}}}),De=Ie(qe,[["__scopeId","data-v-24c51dfe"]]),Ne=Object.freeze(Object.defineProperty({__proto__:null,default:De},Symbol.toStringTag,{value:"Module"})),Fe=a({__name:"AsaiWebServerUser",props:{ujt:{}},setup(e){const t=e,{$fn:a,$global:l,$model:r}=t.ujt,{initUserToken:u}=a.useInitUser(t.ujt,"webserver");return u(),(e,t)=>{var a,r;const u=n("AsaiComponent"),d=n("PageLoadUserToken");return s(),f("div",{id:"asaiwebserveruser",class:k("asaiweb asaiweb"+(null==(r=null==(a=i(l).location)?void 0:a.hasharr)?void 0:r[0])+" "+i(l).config.theme)},[i(l).code.token?(s(),o(u,{key:0,ujt:e.ujt},null,8,["ujt"])):(s(),o(d,{key:1,ujt:e.ujt},null,8,["ujt"]))],2)}}}),He=Ie(Fe,[["__scopeId","data-v-3a37201f"]]),Be=Object.freeze(Object.defineProperty({__proto__:null,default:He},Symbol.toStringTag,{value:"Module"})),Ve=a({__name:"AsaiInitPage",props:{appopt:{},ujt:{}},setup(e){const t=e,a=g("$vueProxy"),l=c({rights:null}),{$global:r,$fn:u,$model:d}=t.ujt;d.appopt=t.appopt,u.initweb(a).then((()=>{l.rights=d.data.sys.router.rights,u.useApi(t.ujt,"webserver"),u.useWs(t.ujt,"web"),r.stat.webclient=1,r.lang.sys.webtit&&(document.title=r.lang.sys.webtit)}));const p=m((()=>{var e,t,a,n,o,s,i,u,d;return r.location.hash?(null==(t=null==(e=l.rights)?void 0:e.lv0)?void 0:t.find((e=>r.location.hash.includes(e))))?0:(null==(n=null==(a=l.rights)?void 0:a.lv1)?void 0:n.find((e=>r.location.hash.includes(e))))?1:(null==(s=null==(o=l.rights)?void 0:o.lv2)?void 0:s.find((e=>r.location.hash.includes(e))))?2:(null==(u=null==(i=l.rights)?void 0:i.lv3)?void 0:u.find((e=>r.location.hash.includes(e))))?3:null==(d=l.rights)?void 0:d.lv:0}));return(e,t)=>{const a=n("AsaiWebServerUserOnline"),l=n("PageLoadClient");return i(r).stat.webclient?(s(),f(_,{key:0},[0===p.value?(s(),o(We,{key:0,ujt:e.ujt},null,8,["ujt"])):1===p.value?(s(),o(De,{key:1,ujt:e.ujt},null,8,["ujt"])):2===p.value?(s(),o(He,{key:2,ujt:e.ujt},null,8,["ujt"])):(s(),o(a,{key:3,ujt:e.ujt},null,8,["ujt"]))],64)):(s(),o(l,{key:1,ujt:e.ujt},null,8,["ujt"]))}}}),Je=Object.freeze(Object.defineProperty({__proto__:null,default:Ve},Symbol.toStringTag,{value:"Module"})),Xe=a({__name:"AsaiWebServerUserOnline",props:{ujt:{}},setup(e){const t=e,{$fn:a,$global:l}=t.ujt,{initUserOnline:r}=a.useInitUser(t.ujt,"webserver");return r(),(e,t)=>{var a,r;const u=n("AsaiComponent"),d=n("PageLoadUserTokenOnline");return s(),f("div",{id:"asaiwebserveruseronline",class:k("asaiweb asaiweb"+(null==(r=null==(a=i(l).location)?void 0:a.hasharr)?void 0:r[0])+" "+i(l).config.theme)},[i(l).code.token&&i(l).user.online?(s(),o(u,{key:0,ujt:e.ujt},null,8,["ujt"])):(s(),o(d,{key:1,ujt:e.ujt},null,8,["ujt"]))],2)}}}),Ye=Ie(Xe,[["__scopeId","data-v-54fcf606"]]),Ge=Object.freeze(Object.defineProperty({__proto__:null,default:Ye},Symbol.toStringTag,{value:"Module"})),Ke={class:"as-form-align as-form-line"},Qe={class:"as-channel-btns"},Ze=a({__name:"ChannelAdd",props:{ujt:{},opt:{}},setup(e){const t=e,{$fn:a,$db:l}=t.ujt,{addContent:o,initAddChannel:r}=a.useChannel(t);return r(),(e,r)=>{const u=n("AsaiForm");return s(),f(_,null,[b("div",Ke,[h(u,{ujt:e.ujt,asaidata:i(l)[t.opt.channel].rfdata},null,8,["ujt","asaidata"])]),b("div",Qe,[b("div",{class:"cur",onClick:r[0]||(r[0]=e=>i(o)())},w(i(a).lg(t.opt.channel+".ui.add")),1)])],64)}}}),et=Object.freeze(Object.defineProperty({__proto__:null,default:Ze},Symbol.toStringTag,{value:"Module"})),tt={class:"as-channel-class-area"},at=["title","onClick"],lt=a({__name:"ChannelClass",props:{ujt:{},opt:{}},setup(e){const t=e,{$fn:a,$global:l}=t.ujt,{setChannelClass:n}=a.useChannel(t);return(e,a)=>(s(),f("div",tt,[(s(!0),f(_,null,$(Object.entries(i(l).lang[t.opt.channel].fl),(t=>S(e.$slots,"default",{key:t[0],item:t,opt:{setChannelClass:i(n)}},(()=>{var e,a;return[b("div",{title:t[1]||"",class:k({cur:t[0]===(null==(e=i(l).location.query)?void 0:e.fl)||"asai"===t[0]&&!(null==(a=i(l).location.query)?void 0:a.fl)}),onClick:e=>i(n)("asai"===t[0]?"":t[0])},w(t[1]),11,at)]})))),128))]))}}),nt=Object.freeze(Object.defineProperty({__proto__:null,default:lt},Symbol.toStringTag,{value:"Module"})),ot={class:"as-form-align as-form-line"},st={class:"as-channel-btns"},it=a({__name:"ChannelEdit",props:{ujt:{},opt:{}},setup(e){const t=e,{$fn:a,$db:l}=t.ujt,{editContent:o}=a.useChannel(t);return(e,r)=>{const u=n("AsaiForm");return s(),f(_,null,[b("div",ot,[h(u,{ujt:e.ujt,asaidata:i(l)[t.opt.channel].rfdata},null,8,["ujt","asaidata"])]),b("div",st,[b("div",{class:"cur",onClick:r[0]||(r[0]=e=>i(o)())},w(i(a).lg(t.opt.channel+".ui.edit")),1)])],64)}}}),rt=Object.freeze(Object.defineProperty({__proto__:null,default:it},Symbol.toStringTag,{value:"Module"})),ut={key:0,class:"as-channel-area"},dt={class:"as-channel-class"},ct={class:"as-channel-list"},pt={class:"as-channel-show"},vt={class:"as-channel-float"},mt=a({__name:"ChannelIndex",props:{ujt:{},opt:{}},setup(e){const t=e,{$fn:a,$global:l,$db:o}=t.ujt,{initChannel:r}=a.useChannel(t);function u(e){document.querySelectorAll(e).forEach((e=>{e.classList.contains("as-channel-nohidden")?e.classList.remove("as-channel-nohidden"):e.classList.add("as-channel-nohidden"),console.log(e.classList)}))}return r(),v((()=>{o[t.opt.channel]=null})),(e,r)=>{var d,c;const p=n("ChannelClass"),v=n("ChannelListSearch"),m=n("ChannelList"),g=n("ChannelListPage"),y=n("ChannelEdit"),j=n("ChannelShow"),k=n("ChannelAdd");return i(o)[t.opt.channel].stat?(s(),f("div",ut,[b("div",dt,[b("h1",null,"📚 "+w(i(a).lg(t.opt.channel+".ui.class")),1),h(p,{ujt:e.ujt,opt:e.opt},null,8,["ujt","opt"])]),b("div",ct,[b("h1",null,"📃 "+w(i(a).lg(t.opt.channel+".ui.list")),1),h(v,{ujt:e.ujt,opt:e.opt},null,8,["ujt","opt"]),h(m,{ujt:e.ujt,opt:e.opt},null,8,["ujt","opt"]),h(g,{ujt:e.ujt,opt:e.opt},null,8,["ujt","opt"])]),b("div",pt,[(null==(d=i(l).location.query)?void 0:d.show)?(s(),f(_,{key:0},[(null==(c=i(l).location.query)?void 0:c.showty)?(s(),f(_,{key:0},[b("h1",null,"📝 "+w(i(a).lg(t.opt.channel+".ui.edit")),1),h(y,{ujt:e.ujt,opt:e.opt},null,8,["ujt","opt"])],64)):(s(),f(_,{key:1},[b("h1",null,"📄 "+w(i(a).lg(t.opt.channel+".ui.show")),1),h(j,{ujt:e.ujt,opt:e.opt},null,8,["ujt","opt"])],64))],64)):(s(),f(_,{key:1},[b("h1",null,"📰 "+w(i(a).lg(t.opt.channel+".ui.add")),1),h(k,{ujt:e.ujt,opt:e.opt},null,8,["ujt","opt"])],64))]),b("div",vt,[b("div",{class:"as-channel-float-class",onClick:r[0]||(r[0]=e=>u(".as-channel-class"))}," ☰ Class "),b("div",{class:"as-channel-float-list",onClick:r[1]||(r[1]=e=>u(".as-channel-list"))}," ☰ List ")])])):O("",!0)}}}),gt=Object.freeze(Object.defineProperty({__proto__:null,default:mt},Symbol.toStringTag,{value:"Module"})),ft={class:"as-channel-list-area as-list-nth"},ht=["title","onClick"],yt={key:0,class:"btns"},bt=["onClick"],jt=["onClick"],_t=a({__name:"ChannelList",props:{ujt:{},opt:{}},setup(e){const t=e,{$fn:a,$db:l,$global:o}=t.ujt,{delItem:r,editItem:u,readItem:d,setShow:c,fetchContent:p,deleteItem:v}=a.useChannel(t);return M((()=>{var e;p(0),d(null==(e=o.location.query)?void 0:e.show)})),l[t.opt.channel].cmPageSize=m((()=>{var e;return Number(o.location.query.ps||(null==(e=l[t.opt.channel].config)?void 0:e.ps))||5})),(e,d)=>{const p=n("PopBoxConfirm");return s(),f(_,null,[h(p,{ujt:e.ujt,id:"popconfirm"+t.opt.channel,full:1},null,8,["ujt","id"]),b("div",ft,[(s(!0),f(_,null,$(i(l)[t.opt.channel].list,(l=>S(e.$slots,"default",{key:"list"+((null==l?void 0:l.sn)||""),item:l,opt:{setShow:i(c),delItem:i(r),editItem:i(u)}},(()=>{var e,n,p;return[b("div",{class:k({cur:(null==l?void 0:l.sn)&&(null==(e=i(o).location.query)?void 0:e.show)===(null==l?void 0:l.sn)})},[b("div",{class:"li",title:(null==l?void 0:l.tit)||"",onClick:e=>i(c)((null==l?void 0:l.sn)||"")},w((null==l?void 0:l.tit)||""),9,ht),3<(null==(p=null==(n=i(o).user)?void 0:n.info)?void 0:p.lv)?(s(),f("div",yt,[b("div",{onClick:[d[0]||(d[0]=P((()=>{}),["stop"])),e=>i(v)({con:"确认删除吗？",fn:()=>{i(r)(l)}})]},w(i(a).lg(t.opt.channel+".ui.del")),9,bt),b("div",{onClick:P((e=>i(u)(l.sn)),["stop"])},w(i(a).lg(t.opt.channel+".ui.edit")),9,jt)])):O("",!0)],2)]})))),128))])],64)}}}),kt=Object.freeze(Object.defineProperty({__proto__:null,default:_t},Symbol.toStringTag,{value:"Module"})),wt={key:0,class:"as-channel-page"},$t=["onClick"],St=a({__name:"ChannelListPage",props:{ujt:{},opt:{}},setup(e){const t=e,{$db:a,$global:l,$fn:n}=t.ujt,{getPageList:o}=n.usePage(t),r=m((()=>{var e,l;return o(null==(l=a[null==(e=t.opt)?void 0:e.channel])?void 0:l.cmPageSize)}));return(e,n)=>r.value.length>1?(s(),f("div",wt,[(s(!0),f(_,null,$(r.value,(e=>{var n,o;return s(),f("div",{onClick:l=>i(a)[t.opt.channel].setpage(e),class:k(e==(null==(n=i(l).location.query)?void 0:n.pg)||1==e&&!(null==(o=i(l).location.query)?void 0:o.pg)?"as-channel-active":"")},w(e),11,$t)})),256))])):O("",!0)}}),Ot=Ie(St,[["__scopeId","data-v-73ee91b2"]]),xt=Object.freeze(Object.defineProperty({__proto__:null,default:Ot},Symbol.toStringTag,{value:"Module"})),Mt={key:0,class:"as-channel-search"},Pt={class:"as-channel-search-main"},Ct=["placeholder"],Tt={class:"as-channel-search-opt"},At=["value"],Lt=["value"],Ut=["value"],zt=a({__name:"ChannelListSearch",props:{ujt:{},opt:{}},setup(e){const t=e,{$db:a,$global:l,$fn:n}=t.ujt,{searchSubmit:o}=n.useChannel(t);return(e,r)=>{var u,d,c,p,v;return(null==(u=t.opt)?void 0:u.channel)&&(null==(c=null==(d=i(a)[t.opt.channel])?void 0:d.sxs)?void 0:c.length)?(s(),f("div",Mt,[b("div",Pt,[C(b("input",{"onUpdate:modelValue":r[0]||(r[0]=e=>i(l).location.query.ss=e),placeholder:i(n).lg("asai.searchtips")},null,8,Ct),[[T,i(l).location.query.ss]]),b("button",{onClick:r[1]||(r[1]=e=>i(o)())},w(i(n).lg("asai.search")),1)]),b("div",Tt,[C(b("select",{"onUpdate:modelValue":r[2]||(r[2]=e=>i(l).location.query.ssty=e)},[(s(!0),f(_,null,$(i(a)[t.opt.channel].sss,(e=>{var n,o,r,u;return s(),f("option",{key:e,value:"asai"===e?void 0:e},w("asai"===e?null==(o=null==(n=i(l).lang)?void 0:n[i(a)[t.opt.channel].sn])?void 0:o.sss:null==(u=null==(r=i(a)[t.opt.channel].rfdata)?void 0:r.lang)?void 0:u[e]),9,At)})),128))],512),[[A,i(l).location.query.ssty]]),C(b("select",{"onUpdate:modelValue":r[3]||(r[3]=e=>i(l).location.query.sx=e)},[(s(!0),f(_,null,$(i(a)[t.opt.channel].sxs,(e=>{var n,o,r,u;return s(),f("option",{key:e,value:"asai"===e?void 0:e},w("asai"===e?null==(o=null==(n=i(l).lang)?void 0:n[i(a)[t.opt.channel].sn])?void 0:o.sxs:null==(u=null==(r=i(a)[t.opt.channel].rfdata)?void 0:r.lang)?void 0:u[e]),9,Lt)})),128))],512),[[A,i(l).location.query.sx]]),C(b("select",{"onUpdate:modelValue":r[4]||(r[4]=e=>i(l).location.query.sxty=e)},[(s(!0),f(_,null,$(null==(v=null==(p=i(l).lang)?void 0:p[i(a)[t.opt.channel].sn])?void 0:v.sxtys,((e,t)=>(s(),f("option",{key:"sxty"+t,value:0==t?void 0:t.toString()},w(e),9,Ut)))),128))],512),[[A,i(l).location.query.sxty]])])])):O("",!0)}}}),Et=Ie(zt,[["__scopeId","data-v-99fd4106"]]),It=Object.freeze(Object.defineProperty({__proto__:null,default:Et},Symbol.toStringTag,{value:"Module"})),Wt={class:"as-form-show"},Rt=a({__name:"ChannelShow",props:{ujt:{},opt:{}},setup(e){const t=e,{$db:a}=t.ujt;return(e,l)=>{const o=n("AsaiForm");return s(),f("div",Wt,[h(o,{ujt:e.ujt,asaidata:i(a)[t.opt.channel].rfdata},null,8,["ujt","asaidata"])])}}}),qt=Object.freeze(Object.defineProperty({__proto__:null,default:Rt},Symbol.toStringTag,{value:"Module"})),Dt={key:0,class:"as-link-area"},Nt={class:"as-link"},Ft={class:"as-link-type-tit"},Ht={key:0,class:"as-link-li"},Bt={class:"as-link-li-tit"},Vt={class:"as-link-li-input"},Jt=["onUpdate:modelValue"],Xt={key:0,class:"as-link-li-stat"},Yt={class:"as-link-btns"},Gt=a({__name:"AsLink",props:{ujt:{}},setup(e){const t=e,{$global:a,$fn:l,$ws:n}=t.ujt,o=c({link:null});function r(){o.link=JSON.parse(JSON.stringify(a.link))}return M((()=>{r()})),(e,t)=>o.link?(s(),f("div",Dt,[b("div",Nt,[(s(!0),f(_,null,$(o.link,((e,t)=>(s(),f("div",{class:"as-link-type",key:"type"+t},[b("div",Ft,w(i(a).lang.sys.link.class[t]),1),(s(!0),f(_,null,$(e,((e,l)=>{var o,r;return s(),f(_,{key:"key"+l},[(null==e?void 0:e.close)?O("",!0):(s(),f("div",Ht,[b("div",Bt,w(i(a).lang.sys.link[l])+"： ",1),b("div",Vt,[C(b("input",{type:"text","onUpdate:modelValue":t=>e.url=t},null,8,Jt),[[T,e.url]])]),"ws"==t?(s(),f("div",Xt,w((null==(r=null==(o=i(n))?void 0:o[l])?void 0:r.open)?"☑":"☒"),1)):O("",!0)]))],64)})),128))])))),128))]),b("div",Yt,[b("div",{class:"btn",onClick:t[0]||(t[0]=e=>{l.saveLink(o.link)})},"确认修改"),b("div",{class:"btn",onClick:t[1]||(t[1]=e=>{l.startLink().then((e=>{r()}))})},"恢复默认"),b("div",{class:"btn",onClick:t[2]||(t[2]=e=>r())},"取消修改")])])):O("",!0)}}),Kt=Ie(Gt,[["__scopeId","data-v-9f540ad5"]]),Qt=Object.freeze(Object.defineProperty({__proto__:null,default:Kt},Symbol.toStringTag,{value:"Module"})),Zt={class:"as-pagebusy-v"},ea=a({__name:"AsPageBusy",props:{ujt:{}},setup(e){U((e=>({"3e25beb0":l.value})));const t=e,{$global:a}=t.ujt,l=m((()=>{var e;return(null==(e=a.pagebusy)?void 0:e.zindex)||9999}));return(e,t)=>{var l,n;return i(a).pagebusy?(s(),f("div",{key:0,class:"as-pagebusy-area",onDblclick:t[0]||(t[0]=e=>{var t;return(null==(t=i(a).pagebusy)?void 0:t.keep)?"":i(a).pagebusy=null})},[b("div",{class:"as-pagebusy-spin",style:L({width:"108px",height:"108px",...(null==(l=i(a).pagebusy)?void 0:l.style)||{}})},null,4),b("div",Zt,w(null==(n=i(a).pagebusy)?void 0:n.v),1)],32)):O("",!0)}}}),ta=Ie(ea,[["__scopeId","data-v-8565c337"]]),aa=Object.freeze(Object.defineProperty({__proto__:null,default:ta},Symbol.toStringTag,{value:"Module"})),la={class:"as-icon"},na={key:0,class:"as-icon-filter"},oa=["src"],sa=a({__name:"AsSvg",props:{src:{type:String,default:""},height:{type:String,default:"24px"},width:{type:String,default:""},color:{type:String,default:"var(--cm8)"},showtype:{type:String,default:"mask"},webty:{type:String,default:""}},setup(e){const t=e;let a=p("");const l=m((()=>a.value?"./assets/"+(t.webty??+t.webty+"/")+"svg/"+a.value+".svg":t.src.startsWith("http")||t.src.endsWith(".svg")||t.src.endsWith(".png")?t.src:"./assets/"+(t.webty??+t.webty+"/")+"svg/"+t.src+".svg"));return(n,o)=>(s(),f("i",la,["filter"===e.showtype?(s(),f("i",na,[b("img",{style:L(t.width?{transform:"translateX(-100%)",filter:`drop-shadow(${t.width} 0 ${t.color})`,width:`${t.width}`}:{transform:"translateY(-100%)",filter:`drop-shadow(0 ${t.height} ${t.color})`,height:`${t.height}`}),src:l.value,onError:o[0]||(o[0]=e=>{a.value="default"})},null,44,oa)])):(s(),f("i",{key:1,class:"as-icon-mask",style:L({width:`${t.width?t.width:t.height}`,height:`${t.height?t.height:t.width}`,"background-color":`${t.color}`,"mask-image":`url('${l.value}')`,"-webkit-mask-image":`url('${l.value}')`})},null,4))]))}}),ia=Ie(sa,[["__scopeId","data-v-4e073754"]]),ra=Object.freeze(Object.defineProperty({__proto__:null,default:ia},Symbol.toStringTag,{value:"Module"})),ua=a({__name:"ChangeLang",props:{ujt:{},fn:{}},setup(e){const t=e,{$fn:a}=t.ujt;return(e,t)=>(s(),f("div",{class:"as-lang",onClick:t[0]||(t[0]=t=>e.fn?e.fn():i(a).changelang("auto"))},[S(e.$slots,"default",{},(()=>[z(w(i(a).lg("asai.lang")),1)]),!0)]))}}),da=Ie(ua,[["__scopeId","data-v-9601a119"]]),ca=Object.freeze(Object.defineProperty({__proto__:null,default:da},Symbol.toStringTag,{value:"Module"})),pa=a({__name:"ChangeTheme",props:{ujt:{}},setup(e){const t=e,{$fn:a,$global:l}=t.ujt;return(e,t)=>(s(),f("div",{class:"as-theme",onClick:t[0]||(t[0]=e=>i(a).changetheme("auto"))},[S(e.$slots,"default",{},(()=>{var e;return[z(w(i(a).lg("asai.theme"+((null==(e=i(l).config.theme)?void 0:e.includes("dark"))?"light":"dark"))),1)]}),!0)]))}}),va=Ie(pa,[["__scopeId","data-v-bef7adfa"]]),ma=Object.freeze(Object.defineProperty({__proto__:null,default:va},Symbol.toStringTag,{value:"Module"})),ga={class:"container"},fa={key:0,class:"preview-wrapper"},ha=["src"],ya={class:"controls"},ba={key:0,class:"result-preview"},ja=["src"],_a=a({__name:"ImgUploadCut",props:{ujt:{},modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,{$fn:l}=a.ujt,n=t,o=m({get:()=>a.modelValue,set(e){n("update:modelValue",e)}}),i=p(""),r=p(""),u=p(null),d=p(null),c=p({x:0,y:0,width:0,height:0,maxWidth:0,maxHeight:0}),v=p({type:null,startX:0,startY:0,originalX:0,originalY:0,originalWidth:0,originalHeight:0,direction:null}),g=m((()=>({transform:`translate(${c.value.x}px, ${c.value.y}px)`,width:`${c.value.width}px`,height:`${c.value.height}px`}))),h=m((()=>c.value.width>0&&c.value.height>0)),y=e=>{const t=e.target.files[0];if(!t)return;const a=new FileReader;a.onload=e=>{i.value=e.target.result,r.value="",console.log("Image source:",i.value)},a.readAsDataURL(t)},j=()=>{const e=u.value,t=d.value;if(!e||!t)return void console.error("Image or container element not found.");const a=Math.min(t.clientWidth,e.naturalWidth),l=Math.min(t.clientHeight,e.naturalHeight),n=Math.min(.8*a,e.naturalWidth),o=Math.min(.8*l,e.naturalHeight);c.value={x:(a-n)/2,y:(l-o)/2,width:n,height:o,maxWidth:a,maxHeight:l},console.log("Initial crop params:",c.value)},_=(e,t=null)=>{console.log("Interaction started:",e,t);const a=window.event||a,l=a.touches?a.touches[0]:a;v.value={type:e,startX:l.clientX,startY:l.clientY,originalX:c.value.x,originalY:c.value.y,originalWidth:c.value.width,originalHeight:c.value.height,direction:t};const n=t=>{requestAnimationFrame((()=>{"move"===e?k(t):w(t)}))};window.addEventListener("mousemove",n),window.addEventListener("touchmove",n),window.addEventListener("mouseup",$),window.addEventListener("touchend",$)},k=e=>{const t=window.event||e,a=t.touches?t.touches[0]:t;if("move"!==v.value.type)return;const l=a.clientX-v.value.startX,n=a.clientY-v.value.startY,o=Math.max(0,Math.min(v.value.originalX+l,c.value.maxWidth-c.value.width)),s=Math.max(0,Math.min(v.value.originalY+n,c.value.maxHeight-c.value.height));Object.assign(c.value,{x:o,y:s})},w=e=>{const t=window.event||e,a=t.touches?t.touches[0]:t;if("resize"!==v.value.type)return;const l=a.clientX-v.value.startX,n=a.clientY-v.value.startY,o=v.value.direction;let s=v.value.originalWidth,i=v.value.originalHeight,r=v.value.originalX,u=v.value.originalY;switch(o){case"tr":s=Math.max(100,Math.min(v.value.originalWidth+l,c.value.maxWidth-r)),i=Math.max(100,v.value.originalHeight-n),u=Math.max(0,v.value.originalY+n);break;case"tl":s=Math.max(100,v.value.originalWidth-l),i=Math.max(100,v.value.originalHeight-n),r=Math.max(0,v.value.originalX+l),u=Math.max(0,v.value.originalY+n);break;case"br":s=Math.max(100,v.value.originalWidth+l),i=Math.max(100,v.value.originalHeight+n);break;case"bl":s=Math.max(100,v.value.originalWidth-l),i=Math.max(100,v.value.originalHeight+n),r=Math.max(0,v.value.originalX+l)}s=Math.min(s,c.value.maxWidth-r),i=Math.min(i,c.value.maxHeight-u),Object.assign(c.value,{x:r,y:u,width:s,height:i}),console.log("Resized crop params:",c.value)},$=()=>{v.value.type=null,window.removeEventListener("mousemove",k),window.removeEventListener("touchmove",k),window.removeEventListener("mousemove",w),window.removeEventListener("touchmove",w),window.removeEventListener("mouseup",$),window.removeEventListener("touchend",$)},S=()=>{const e=u.value,t=e.naturalWidth/e.width,a=e.naturalHeight/e.height,l=Math.min(c.value.width*t,e.naturalWidth),n=Math.min(c.value.height*a,e.naturalHeight),o=document.createElement("canvas");o.width=l,o.height=n;o.getContext("2d").drawImage(e,c.value.x*t,c.value.y*a,l,n,0,0,l,n),r.value=o.toDataURL("image/png",.9)},x=()=>{const e=document.createElement("a");e.download="cropped-image.png",e.href=r.value,e.click()},M=()=>{const e=r.value.split(",")[1],t=l.As.Uuid();l.api.webserver.apiPost("/api/asaiupload/manage/upbase64/?path="+t+".png",e).then((e=>{console.log(666.701,e),o.value=e.data}))};return(e,t)=>(s(),f("div",ga,[b("input",{type:"file",accept:"image/*",onChange:y},null,32),i.value?(s(),f("div",fa,[b("div",{class:"preview-container",ref_key:"previewContainer",ref:d},[b("img",{ref_key:"previewImage",ref:u,src:i.value,onLoad:j},null,40,ha),C(b("div",{class:"crop-box",style:L(g.value),onMousedown:t[8]||(t[8]=P((e=>_("move")),["prevent"])),onTouchstart:t[9]||(t[9]=P((e=>_("move")),["prevent"]))},[b("div",{class:"crop-handle top-left",onMousedown:t[0]||(t[0]=P((e=>_("resize","tl")),["stop"])),onTouchstart:t[1]||(t[1]=P((e=>_("resize","tl")),["stop"]))},null,32),b("div",{class:"crop-handle top-right",onMousedown:t[2]||(t[2]=P((e=>_("resize","tr")),["stop"])),onTouchstart:t[3]||(t[3]=P((e=>_("resize","tr")),["stop"]))},null,32),b("div",{class:"crop-handle bottom-left",onMousedown:t[4]||(t[4]=P((e=>_("resize","bl")),["stop"])),onTouchstart:t[5]||(t[5]=P((e=>_("resize","bl")),["stop"]))},null,32),b("div",{class:"crop-handle bottom-right",onMousedown:t[6]||(t[6]=P((e=>_("resize","br")),["stop"])),onTouchstart:t[7]||(t[7]=P((e=>_("resize","br")),["stop"]))},null,32)],36),[[E,h.value]])],512),b("div",ya,[b("button",{onClick:S},"确认裁剪"),r.value?(s(),f("button",{key:0,onClick:x}," 下载图片 ")):O("",!0),r.value?(s(),f("button",{key:1,onClick:M}," 确认上传 ")):O("",!0)]),r.value?(s(),f("div",ba,[b("img",{src:r.value,alt:"裁剪结果"},null,8,ja)])):O("",!0)])):O("",!0)]))}}),ka=Ie(_a,[["__scopeId","data-v-b8546b94"]]),wa=Object.freeze(Object.defineProperty({__proto__:null,default:ka},Symbol.toStringTag,{value:"Module"})),$a={class:"as-json-area as-form-line"},Sa={class:"as-json-tit"},Oa={class:"as-json-main"},xa={class:"as-json-btns"},Ma=a({__name:"JsonEditor",props:{ujt:{},asaidata:{}},setup(e){var t;const a=e,{$fn:l}=a.ujt;function o(){l.api.webserver.apiGet("/api/asaijson/manage/select/?path="+a.asaidata.path).then((e=>{a.asaidata.data=JSON.parse(e.data)}))}return!(null==(t=a.asaidata)?void 0:t.data)&&a.asaidata.path&&o(),(e,t)=>{const i=n("AsaiForm");return s(),f("div",$a,[b("div",Sa,[b("button",{onClick:t[0]||(t[0]=e=>o())},"读取"),C(b("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.asaidata.path=t)},null,512),[[T,e.asaidata.path]])]),b("div",Oa,[h(i,{ujt:e.ujt,asaidata:e.asaidata},null,8,["ujt","asaidata"])]),b("div",xa,[b("button",{onClick:t[2]||(t[2]=e=>{l.api.webserver.apiPost("/api/asaijson/manage/update/?path="+a.asaidata.path,a.asaidata.data).then((e=>{console.log(666.702,e)}))})},"提交修改"),b("button",{onClick:t[3]||(t[3]=e=>{l.api.webserver.apiGet("/api/asaijson/manage/delete/?path="+a.asaidata.path).then((e=>{console.log(666.703,e)}))})},"删除")])])}}}),Pa=Ie(Ma,[["__scopeId","data-v-a1dfe18d"]]),Ca=Object.freeze(Object.defineProperty({__proto__:null,default:Pa},Symbol.toStringTag,{value:"Module"})),Ta={key:0,class:"as-ed-dir"},Aa={key:2,class:"as-ed-for"},La={class:"as-ed-item"},Ua={key:1,class:"as-ed-dir"},za={class:"as-ed-for"},Ea={class:"as-ed-index"},Ia={key:3,class:"as-ed-span"},Wa=a({__name:"JsonTree",props:{ckey:{},cdata:{},cval:{}},setup(e){const t=e,a=c({});a.publishlist=!0,"publishlist"===(null==t?void 0:t.ckey)&&(null==t?void 0:t.cdata)&&(null==t?void 0:t.cdata[null==t?void 0:t.ckey])&&Object.keys(null==t?void 0:t.cdata[null==t?void 0:t.ckey]).forEach((e=>{a[e]=!0}));const l=m((()=>{let e=typeof t.cdata[t.ckey];if("object"===e){if(t.cdata[t.ckey]&&t.cdata[t.ckey]["@path"])return"path";if(!t.cdata[t.ckey])return"null";if(Array.isArray(t.cdata[t.ckey]))return"array"}return e}));function n(e){a[e]=!a[e]}return(e,o)=>"object"===l.value?(s(),f("div",Ta,["publishlist"!==e.ckey?(s(),f(_,{key:0},[a[e.ckey]?(s(),f("div",{key:1,class:"as-ed-mg",onClick:o[1]||(o[1]=t=>n(e.ckey))}," - "+w(e.ckey),1)):(s(),f("div",{key:0,class:"as-ed-mg",onClick:o[0]||(o[0]=t=>n(e.ckey))}," + "+w(e.ckey),1)),a[e.ckey]?(s(),f("div",Aa,[(s(!0),f(_,null,$(Object.keys(e.cdata[e.ckey]),(t=>(s(),f("div",{class:"as-ed-for-item",key:t},[b("div",La,[h(Ra,{cval:e.cval,ckey:t,cdata:e.cdata[e.ckey]},null,8,["cval","ckey","cdata"])])])))),128))])):O("",!0)],64)):(s(!0),f(_,{key:1},$(Object.keys(e.cdata[e.ckey]),(t=>(s(),f("div",{class:"as-ed-for-item",key:t},[h(Ra,{cval:e.cval,ckey:t,cdata:e.cdata[e.ckey]},null,8,["cval","ckey","cdata"])])))),128))])):"array"===l.value?(s(),f("div",Ua,[b("div",{class:"as-ed-mg",onClick:n},"+ "+w(e.ckey),1),b("div",za,[(s(!0),f(_,null,$(e.cdata[e.ckey],((t,a)=>(s(),f("div",{class:"as-ed-for-item",key:a},[b("div",Ea,[h(Ra,{cval:e.cval,ckey:a,cdata:e.cdata[e.ckey]},null,8,["cval","ckey","cdata"])])])))),128))])])):"path"===l.value?(s(),f("div",{key:2,class:k(t.cval.apikeys.includes(t.cdata[t.ckey]["@path"])?"as-ed-path-cur":"as-ed-path"),onClick:o[2]||(o[2]=e=>function(){var e;if((null==t?void 0:t.cdata[t.ckey]["@path"])&&(null==(e=null==t?void 0:t.cval)?void 0:e.apikeys)){const e=t.cval.apikeys.findIndex((e=>e===t.cdata[t.ckey]["@path"]));e>-1?t.cval.apikeys.splice(e,1):t.cval.apikeys.push(t.cdata[t.ckey]["@path"])}t.cval.setapikeys(t.cval.apikeys)}())},w(e.ckey),3)):(s(),f("span",Ia,w(e.ckey),1))}}),Ra=Ie(Wa,[["__scopeId","data-v-7ac0f30f"]]),qa=Object.freeze(Object.defineProperty({__proto__:null,default:Ra},Symbol.toStringTag,{value:"Module"})),Da={key:0,class:"as-floating-menu"},Na={key:0},Fa={key:1},Ha=["onClick"],Ba=a({__name:"MenuShowFix",props:{ujt:{},menus:{}},setup(e){const t=e,{$fn:a,$global:l,$model:n}=t.ujt,o=p(!1);function r(){o.value=!o.value}const u=m((()=>[{value:"/",label:"首页"},{value:"user/manage/list/",label:"用户"},{fn:()=>a.changetheme("auto"),label:"切换主题"},{fn:()=>a.changelang("auto"),label:"切换语言"},{value:"admin/jsonmanage",label:"JSON文件编辑器"},...t.menus||[]]));return(e,t)=>i(n).data.sys.settingsys.devlevel?(s(),f("div",Da,[b("button",{class:"as-floating-button",onClick:r},[o.value?(s(),f("span",Na,"×")):(s(),f("span",Fa,"☰"))]),b("ul",{class:k(["as-floating-menus",{open:o.value}])},[(s(!0),f(_,null,$(u.value,((e,t)=>(s(),f("li",{key:"menu"+t,class:k(e.value&&i(l).location.hash.includes(e.value)?"active":""),onClick:t=>{var l;return e.value?i(a).sethash(e.value):null==(l=null==e?void 0:e.fn)?void 0:l.call(e)}},w(e.label||e.value),11,Ha)))),128))],2)])):O("",!0)}}),Va=Ie(Ba,[["__scopeId","data-v-ed9b9b3f"]]),Ja=Object.freeze(Object.defineProperty({__proto__:null,default:Va},Symbol.toStringTag,{value:"Module"})),Xa={class:"app-menu-area"},Ya=a({__name:"RouterMap",props:{ujt:{},menus:{}},setup(e){const t=e,{$fn:a}=t.ujt;return(e,t)=>(s(),f("div",Xa,[(s(!0),f(_,null,$(e.menus,(e=>(s(),f("div",{class:"app-menu",onClick:t[0]||(t[0]=e=>i(a).sethash("item.value"))},w(e.label),1)))),256))]))}}),Ga=Ie(Ya,[["__scopeId","data-v-5d8b3ace"]]),Ka=Object.freeze(Object.defineProperty({__proto__:null,default:Ga},Symbol.toStringTag,{value:"Module"})),Qa=a({__name:"RouterView",props:{ujt:{},ty:{}},setup(e){const t=e,{$model:a,$fn:l,$global:n}=t.ujt,u=I({comp:null});l.getcomp=e=>{try{try{return r(a.comps[`./${e}.vue`])}catch(t){return e&&e.endsWith("/default")?r(a.comps[`./${e.slice(0,-8)}.vue`]):r((()=>G((()=>import("./chunk-asai-CJsSuoj3.js")),__vite__mapDeps([9,1]),import.meta.url)))}}catch(t){return r((()=>G((()=>import("./chunk-asai-CJsSuoj3.js")),__vite__mapDeps([9,1]),import.meta.url)))}};const d=W((()=>n.location.comps[t.ty]),((e,t)=>{e&&e!==t&&(u.comp=l.getcomp(e))}),{immediate:!0});return R((()=>{d&&d()})),(e,t)=>(s(),o(j(i(u).comp),{ujt:e.ujt},null,8,["ujt"]))}}),Za=Object.freeze(Object.defineProperty({__proto__:null,default:Qa},Symbol.toStringTag,{value:"Module"})),el=a({__name:"VirtualList",props:{items:{type:Array,required:!0},itemHeight:{type:Number,default:50},buffer:{type:Number,default:5}},setup(e){const t=e,a=p(null),l=p(0),n=p([]),o=p(10),i=m((()=>t.items.reduce(((e,t,a)=>e+r(a)),0))),r=e=>n.value[e]||t.itemHeight,u=m((()=>Math.max(0,g(l.value)-t.buffer))),d=m((()=>Math.min(t.items.length,u.value+o.value+2*t.buffer))),c=m((()=>t.items.slice(u.value,d.value).map(((e,t)=>{const a=v(u.value+t);return{id:e.id||t,data:e,offset:a}})))),v=e=>t.items.slice(0,e).reduce(((e,t,a)=>e+r(a)),0),g=e=>{let a=0,l=t.items.length-1;for(;a<=l;){const t=Math.floor((a+l)/2);v(t)<=e?a=t+1:l=t-1}return l},h=()=>{requestAnimationFrame((()=>{var e;l.value=null==(e=a.value)?void 0:e.scrollTop}))};return M((()=>{o.value=Math.ceil(a.value.clientHeight/t.itemHeight),h()})),q((()=>{a.value.querySelectorAll(".virtual-list-item").forEach(((e,t)=>{const a=u.value+t;n.value[a]=e.offsetHeight}))})),(e,t)=>(s(),f("div",{class:"virtual-list-container",onScroll:h,ref_key:"container",ref:a},[b("div",{class:"virtual-list-wrapper",style:L({height:i.value+"px"})},[(s(!0),f(_,null,$(c.value,(t=>(s(),f("div",{class:"virtual-list-item",key:t.id,style:L({transform:`translateY(${t.offset}px)`}),ref_for:!0,ref:"items"},[S(e.$slots,"default",{item:t.data},void 0,!0)],4)))),128))],4)],544))}}),tl=Ie(el,[["__scopeId","data-v-8eae5ea9"]]),al=Object.freeze(Object.defineProperty({__proto__:null,default:tl},Symbol.toStringTag,{value:"Module"})),ll=a({__name:"ZoomContainer",props:{ujt:{},config:{}},setup(e){U((e=>({"572bfafc":l.width,"74846ab1":l.height})));const t=e,{$global:a}=t.ujt;a.scale=1;const l={width:t.config.width+"px",height:t.config.height+"px"},n=p(null);let o=null;const i=()=>{const e=Math.min(window.innerWidth/t.config.width,window.innerHeight/t.config.height);a.scale=e.toFixed(2),n.value.style.transform=`scale(${a.scale}) translate(-50%,-50%)`},r=()=>{clearTimeout(o),o=setTimeout((()=>{requestAnimationFrame(i)}),150)};return M((()=>{D(i),window.addEventListener("resize",r)})),v((()=>{window.removeEventListener("resize",r),clearTimeout(o)})),(e,t)=>(s(),f("div",{ref_key:"containerRef",ref:n,class:"scale-wrapper"},[S(e.$slots,"default",{},void 0,!0)],512))}}),nl=Ie(ll,[["__scopeId","data-v-c827fc35"]]),ol=Object.freeze(Object.defineProperty({__proto__:null,default:nl},Symbol.toStringTag,{value:"Module"})),sl=a({__name:"AsaiFormLi",props:{ujt:{},asaidata:{},formdata:{}},setup(e){const t=e;return(e,a)=>{const l=n("AsaiFormObject"),i=n("AsaiInput");return s(!0),f(_,null,$(t.formdata,((t,a)=>{var n,r,u,d;return s(),f(_,null,[(null==(n=e.asaidata)?void 0:n.cmComp)&&(null==(r=e.asaidata)?void 0:r.cmComp(a))?(s(),o(j(e.asaidata.cmComp(a)),{key:0,ujt:e.ujt,asaidata:e.asaidata,formdata:e.formdata,formkey:a},null,8,["ujt","asaidata","formdata","formkey"])):"object"==typeof t?(s(),f(_,{key:1},[(null==(u=e.asaidata)?void 0:u.cmComp)&&(null==(d=e.asaidata)?void 0:d.cmComp("object"))?(s(),o(j(e.asaidata.cmComp("object")),{key:0,ujt:e.ujt,asaidata:e.asaidata,formdata:e.formdata,formkey:a},null,8,["ujt","asaidata","formdata","formkey"])):(s(),o(l,{key:1,ujt:e.ujt,asaidata:e.asaidata,formdata:e.formdata,formkey:a},null,8,["ujt","asaidata","formdata","formkey"]))],64)):(s(),o(i,{key:2,ujt:e.ujt,asaidata:e.asaidata,formdata:e.formdata,formkey:a},null,8,["ujt","asaidata","formdata","formkey"]))],64)})),256)}}}),il=Object.freeze(Object.defineProperty({__proto__:null,default:sl},Symbol.toStringTag,{value:"Module"})),rl={key:0,class:"as-form-obj"},ul=a({__name:"AsaiFormObject",props:{ujt:{},asaidata:{},formdata:{},formkey:{}},setup(e){const t=e,a=p(!0);return(e,l)=>{var i,r;const u=n("AsaiFormLi");return"object"==typeof t.formdata[e.formkey]?(s(),f("div",rl,[b("span",{class:k(a.value?"as-form-ico":"as-form-ico-open"),onClick:l[0]||(l[0]=e=>a.value=!a.value)},w((null==(i=t.asaidata)?void 0:i.lang)&&(null==(r=t.asaidata)?void 0:r.lang[e.formkey])||e.formkey)+": ",3),z(" "+w(Array.isArray(t.formdata[e.formkey])?"[":"{")+" ",1),a.value?(s(),o(u,{key:0,ujt:e.ujt,asaidata:e.asaidata,formdata:t.formdata[e.formkey]},null,8,["ujt","asaidata","formdata"])):(s(),f(_,{key:1},[z("...")],64)),z(" "+w(Array.isArray(t.formdata[e.formkey])?"]":"}"),1)])):O("",!0)}}}),dl=Object.freeze(Object.defineProperty({__proto__:null,default:ul},Symbol.toStringTag,{value:"Module"})),cl=["type"],pl=a({__name:"AsaiInput",props:{ujt:{},asaidata:{},formdata:{},formkey:{}},setup(e){const t=e;return(e,a)=>{var l,n,o,i;return s(),f("label",null,[b("span",{class:k(Array.isArray(t.formdata)?"as-form-arr":"")},w((null==(l=t.asaidata)?void 0:l.lang)&&(null==(n=t.asaidata)?void 0:n.lang[e.formkey])||e.formkey)+": ",3),C(b("input",{type:(null==(i=null==(o=t.asaidata.rule)?void 0:o[e.formkey])?void 0:i.type)||("number"==typeof t.formdata[e.formkey]?"number":"string"),"onUpdate:modelValue":a[0]||(a[0]=a=>t.formdata[e.formkey]=a)},null,8,cl),[[N,t.formdata[e.formkey]]])])}}}),vl=Object.freeze(Object.defineProperty({__proto__:null,default:pl},Symbol.toStringTag,{value:"Module"})),ml={class:"as-richtext-toolbar"},gl={value:""},fl=["value"],hl={value:"p"},yl=["value"],bl=["title"],jl=["title"],_l=["title"],kl=["title"],wl=["title"],$l=["title"],Sl=["title"],Ol=["title"],xl={class:"as-richtext-content"},Ml=["placeholder"],Pl=a({__name:"AsaiRichEditor",props:{ujt:{},asaidata:{},formdata:{},formkey:{}},setup(e){var t,a,l;const n=e,{$global:o}=n.ujt,r={img:{maxWidth:288,quality:.8},imgurls:{}},u=p(null),d=p(null),c=p(null),v=p((null==(l=null==(a=null==(t=n.asaidata)?void 0:t.rule)?void 0:a[n.formkey])?void 0:l.editorty)||2);function m(){d.value&&(d.value.innerHTML=n.formdata[n.formkey])}function g(e,t=0){const a=new Set(["a","figure","figure","img","video","ul","ol","li","h1","h2","h3","h4","h5","h6","p","strong","em","span","font","b","u","i","strike","nav","footer","section","article","div"]),l=new Set(["href","src","alt","size","color","title","style","controls","download"]),n=(new DOMParser).parseFromString(e,"text/html");return Array.from(n.body.querySelectorAll("*")).reverse().forEach((e=>{var n;const o=e.tagName.toLowerCase();if(!a.has(o))return e.remove();t&&"img"==o&&(null==e?void 0:e.src)&&!(null==(n=r.imgurls)?void 0:n[e.src])&&(e.setAttribute("crossOrigin","anonymous"),r.imgurls[e.src]="1"),Array.from(e.attributes).forEach((({name:a,value:n})=>{if(!l.has(a))return e.removeAttribute(a);if(["href","src"].includes(a)){const l=function(e,t=0){try{if(t)return e;const a=new URL(e,location.href);if(["http:","https:","mailto:","tel:","blob:","data:","ftp:"].includes(a.protocol))return a.href}catch{return e.startsWith("#")||!/:/.test(e)?e:""}return""}(n,t);l?e.setAttribute(a,l):e.removeAttribute(a)}}))})),n.body.innerHTML}function h(e){u.value.accept=`${e}/*`,D((()=>{var e;return null==(e=u.value)?void 0:e.click()}))}async function y(e){var t;const a=null==(t=e.target.files)?void 0:t[0];if(!a)return;let l,n="";a.type.startsWith("image")?(l=await j(a),n=`<img src="${l}" style="max-width:100%">`):(l=a.size>1048576?URL.createObjectURL(a):await j(a),n=a.type.startsWith("video")?`<video controls src="${l}" style="max-width:100%"></video>`:`<a href="${l}" download="${a.name}">${a.name}</a>`),A("insertHTML",n)}function j(e){return new Promise(((t,a)=>{if(!e)return a(new Error("Invalid file"));const l=new FileReader;l.onload=l=>{e.type.startsWith("image/")?k(l.target.result).then((e=>{t(e)})).catch((e=>{a(e)})):t(l.target.result)},l.onerror=()=>a(new Error("File read failed")),l.readAsDataURL(e)}))}function k(e){return new Promise(((t,a)=>{const l=new Image,n=document.createElement("canvas"),o=n.getContext("2d",{willReadFrequently:!1});let s=!1;const i=()=>{s||(l.onload=l.onerror=null,l.src="",n.width=n.height=0,s=!0)};l.crossOrigin="anonymous",l.src=e,l.onload=()=>{try{const e=Math.min(r.img.maxWidth/l.width,1);n.width=e<1?r.img.maxWidth:l.width,n.height=e<1?l.height*e:l.height,o.imageSmoothingEnabled=!0,o.imageSmoothingQuality="high",o.clearRect(0,0,n.width,n.height),o.drawImage(l,0,0,n.width,n.height);const a=n.toDataURL("image/jpeg",r.img.quality);i(),t(a)}catch(e){i(),a(e)}},l.onerror=e=>{i(),a(new Error("Image load failed"))}}))}function S(e){e.preventDefault(),Object.keys(r.imgurls).forEach((e=>{k(r.imgurls[e]).then((t=>{"1"==r.imgurls[e]&&(r.imgurls[e]="2",n.formdata[n.formkey].replaceAll(r.imgurls[e],t))}))}))}function x(e){var t,a;e.preventDefault();A("insertHTML",g((null==(t=e.clipboardData)?void 0:t.getData("text/html"))||"",1)||(null==(a=e.clipboardData)?void 0:a.getData("text/plain"))||"")}function P(e){d.value&&(n.formdata[n.formkey]=g(d.value.innerHTML))}function A(e,t=null){d.value&&document.execCommand(e,!1,t)}return M(m),(e,t)=>{var a,l,r;return s(),f("div",{class:"as-richtext-area",style:L((null==(l=null==(a=n.asaidata.rule)?void 0:a[n.formkey])?void 0:l.style)||{})},[b("div",ml,[b("select",{onChange:t[0]||(t[0]=e=>A("fontSize",e.target.value))},[b("option",gl,w(i(o).lang.richtexteditor.fontsize),1),(s(),f(_,null,$(8,(e=>b("option",{key:"size"+e,value:e*(e-1)+8},w(e*(e-1)+8)+"px ",9,fl))),64))],32),b("select",{onChange:t[1]||(t[1]=e=>A("formatBlock",e.target.value))},[b("option",hl,w(i(o).lang.richtexteditor.paragraph),1),(s(),f(_,null,$(6,(e=>b("option",{key:"h"+e,value:"h"+e},w(i(o).lang.richtexteditor.title)+w(e),9,yl))),64))],32),b("button",{onPointerdown:t[2]||(t[2]=e=>A("bold")),title:i(o).lang.richtexteditor.bold}," B ",40,bl),b("button",{onPointerdown:t[3]||(t[3]=e=>A("underline")),title:i(o).lang.richtexteditor.underline}," U ",40,jl),b("button",{onPointerdown:t[4]||(t[4]=e=>A("italic")),title:i(o).lang.richtexteditor.italic}," I ",40,_l),b("button",{onPointerdown:t[5]||(t[5]=e=>A("strikethrough")),title:i(o).lang.richtexteditor.strikethrough}," S ",40,kl),b("input",{type:"color",onInput:t[6]||(t[6]=e=>A("foreColor",e.target.value)),title:i(o).lang.richtexteditor.foreColor},null,40,wl),b("input",{type:"color",onInput:t[7]||(t[7]=e=>A("backColor",e.target.value)),title:i(o).lang.richtexteditor.backColor},null,40,$l),b("button",{onPointerdown:t[8]||(t[8]=e=>A("insertOrderedList")),title:i(o).lang.richtexteditor.insertOrderedList}," 有 ",40,Sl),b("button",{onPointerdown:t[9]||(t[9]=e=>A("insertUnorderedList")),title:i(o).lang.richtexteditor.insertUnorderedList}," 无 ",40,Ol),b("button",{onPointerdown:t[10]||(t[10]=e=>A("justifyCenter")),title:"居中"}," 中 ",32),b("button",{onPointerdown:t[11]||(t[11]=e=>A("justifyFull")),title:"两端对齐"}," 两 ",32),b("button",{onPointerdown:t[12]||(t[12]=e=>A("justifyRight")),title:"右对齐"}," 右 ",32),b("button",{onPointerdown:t[13]||(t[13]=e=>A("justifyLeft")),title:"左对齐"}," 左 ",32),b("button",{onPointerdown:t[14]||(t[14]=e=>A("delete")),title:"删除"}," 删 ",32),b("button",{onPointerdown:t[15]||(t[15]=e=>function(){const e=window.prompt("请输入链接地址");e&&A("createLink",e)}()),title:"链接"},"链",32),b("button",{onPointerdown:t[16]||(t[16]=e=>A("unlink")),title:"删除链接"}," 除 ",32),b("button",{onClick:t[17]||(t[17]=e=>h("image")),title:"图片"},"🖼️"),b("button",{onClick:t[18]||(t[18]=e=>h("video")),title:"视频"},"🎬"),b("button",{onClick:t[19]||(t[19]=e=>h("file")),title:"文件"},"📎"),b("button",{onClick:S,title:"上传"},"上"),b("button",{onClick:t[20]||(t[20]=e=>(v.value++,v.value>2&&(v.value=0),void D(m))),title:"切换"},"HTML")]),b("div",xl,[1!=v.value?(s(),f("div",{key:0,style:L({width:v.value>1?"50%":"100%"}),ref_key:"rfRichEditor",ref:d,contenteditable:"true",onPaste:x,onInput:P},null,36)):O("",!0),v.value>0?C((s(),f("textarea",{key:1,placeholder:(null==(r=null==n?void 0:n.opt)?void 0:r.placeholder)||"",ref_key:"rfRichCode",ref:c,"onUpdate:modelValue":t[21]||(t[21]=e=>n.formdata[n.formkey]=e),style:L({width:v.value>1?"50%":"100%"})},null,12,Ml)),[[T,n.formdata[n.formkey]]]):O("",!0)]),b("input",{ref_key:"fileInput",ref:u,type:"file",hidden:"",onChange:y},null,544)],4)}}}),Cl=Ie(Pl,[["__scopeId","data-v-be6f2841"]]),Tl=Object.freeze(Object.defineProperty({__proto__:null,default:Cl},Symbol.toStringTag,{value:"Module"})),Al=["value"],Ll=a({__name:"AsaiSelect",props:{ujt:{},asaidata:{},formdata:{},formkey:{}},setup(e){const t=e,{$fn:a}=t.ujt;return(e,l)=>{var n,o,r,u,d,c,p;return s(),f("label",null,[b("span",{class:k(Array.isArray(t.formdata)?"as-form-arr":"")},w((null==(n=t.asaidata)?void 0:n.lang)&&(null==(o=t.asaidata)?void 0:o.lang[e.formkey])||e.formkey)+": ",3),C(b("select",{"onUpdate:modelValue":l[0]||(l[0]=a=>t.formdata[e.formkey]=a)},[(s(!0),f(_,null,$(Object.entries((null==(r=t.asaidata)?void 0:r.lang)&&(null==(u=t.asaidata)?void 0:u.lang[e.formkey+"data"])||i(a).lg(null==(p=null==(c=null==(d=e.asaidata)?void 0:d.rule)?void 0:c[e.formkey])?void 0:p.data)||{}),(a=>{var l,n;return s(),f("option",{key:a[0],value:"asai"===a[0]?void 0:"number"==(null==(n=null==(l=t.asaidata.rule)?void 0:l[e.formkey])?void 0:n.type)?+a[0]:a[0]},w(a[1]),9,Al)})),128))],512),[[A,t.formdata[e.formkey]]])])}}}),Ul=Ie(Ll,[["__scopeId","data-v-2a71fefa"]]),zl=Object.freeze(Object.defineProperty({__proto__:null,default:Ul},Symbol.toStringTag,{value:"Module"})),El={key:0},Il=["src","alt","title"],Wl=["title"],Rl=["title"],ql=["accept"],Dl=a({__name:"AsaiUpBinary",props:{ujt:{},asaidata:{},formdata:{},formkey:{}},setup(e){const t=e,{$fn:a,$global:l}=t.ujt,n=p(null),o=p(null),r=p("+"),u=async e=>{if(n.value.value){if(o.value=e.target.files[0],n.value.value="",!o.value)return void(r.value="请选择一个文件");try{a.api.webserver.apiUpload("/api/asaiupload/manage/upbinary/?path="+a.As.getName(o.value.name),o.value).then((e=>{r.value="",t.formdata[t.formkey]=e.data}))}catch(l){r.value="上传失败: "+l.message}}};function d(){n.value.click()}return(e,o)=>{var c,p,v,m,g,h,y,j,_,$,S,O;return s(),f("label",null,[b("span",null,w((null==(c=t.asaidata)?void 0:c.lang)&&(null==(p=t.asaidata)?void 0:p.lang[e.formkey])||e.formkey)+": ",1),b("div",{class:"as-upload-image",onClick:P(d,["prevent"])},[t.formdata[e.formkey]?(s(),f("div",El,[(null==(h=null==(g=null==(m=null==(v=e.asaidata)?void 0:v.rule)?void 0:m[e.formkey])?void 0:g.accept)?void 0:h.startsWith("image/"))?(s(),f("img",{key:0,src:i(a).As.getUrlByCfg(i(l).link.api.webserver)+"/"+t.formdata[e.formkey],alt:t.formdata[e.formkey],title:t.formdata[e.formkey]},null,8,Il)):(s(),f("div",{key:1,class:"as-upload-tit",title:t.formdata[e.formkey]},w(t.formdata[e.formkey]),9,Wl))])):(s(),f("div",{key:1,class:k("+"===r.value?"":"as-upload-tit"),title:r.value},w(r.value),11,Rl))]),(null==(_=null==(j=null==(y=e.asaidata)?void 0:y.rule)?void 0:j[e.formkey])?void 0:_.accept)?(s(),f("input",{key:0,accept:null==(O=null==(S=null==($=e.asaidata)?void 0:$.rule)?void 0:S[e.formkey])?void 0:O.accept,ref_key:"rfInputFile",ref:n,type:"file",hidden:"",onChange:u},null,40,ql)):(s(),f("input",{key:1,ref_key:"rfInputFile",ref:n,type:"file",hidden:"",onChange:u},null,544))])}}}),Nl=Ie(Dl,[["__scopeId","data-v-76b4567e"]]),Fl=Object.freeze(Object.defineProperty({__proto__:null,default:Nl},Symbol.toStringTag,{value:"Module"})),Hl={key:0},Bl=["src","alt","title"],Vl=["title"],Jl=["title"],Xl=["accept"],Yl=a({__name:"AsaiUpload",props:{ujt:{},asaidata:{},formdata:{},formkey:{}},setup(e){const t=e,{$fn:a,$global:l}=t.ujt,n=p(null),o=p(null),r=p("+"),u=async e=>{if(n.value.value){if(o.value=e.target.files[0],n.value.value="",!o.value)return void(r.value="请选择一个文件");const l=new FileReader;l.onload=async()=>{const e=l.result.split(",")[1];try{a.api.webserver.apiPost("/api/asaiupload/manage/upbase64/?path="+a.As.getName(o.value.name),e,{headers:{"Content-Type":"application/json"}}).then((e=>{r.value="",t.formdata[t.formkey]=e.data}))}catch(n){r.value="上传失败: "+n.message}},l.readAsDataURL(o.value)}};function d(){n.value.click()}return(e,o)=>{var c,p,v,m,g,h,y,j,_,$,S,O;return s(),f("label",null,[b("span",null,w((null==(c=t.asaidata)?void 0:c.lang)&&(null==(p=t.asaidata)?void 0:p.lang[e.formkey])||e.formkey)+": ",1),b("div",{class:"as-upload-image",onClick:P(d,["prevent"])},[t.formdata[e.formkey]?(s(),f("div",Hl,[(null==(h=null==(g=null==(m=null==(v=e.asaidata)?void 0:v.rule)?void 0:m[e.formkey])?void 0:g.accept)?void 0:h.startsWith("image/"))?(s(),f("img",{key:0,src:i(a).As.getUrlByCfg(i(l).link.api.webserver)+"/"+t.formdata[e.formkey],alt:t.formdata[e.formkey],title:t.formdata[e.formkey]},null,8,Bl)):(s(),f("div",{key:1,class:"as-upload-tit",title:t.formdata[e.formkey]},w(t.formdata[e.formkey]),9,Vl))])):(s(),f("div",{key:1,class:k("+"===r.value?"":"as-upload-tit"),title:r.value},w(r.value),11,Jl))]),(null==(_=null==(j=null==(y=e.asaidata)?void 0:y.rule)?void 0:j[e.formkey])?void 0:_.accept)?(s(),f("input",{key:0,accept:null==(O=null==(S=null==($=e.asaidata)?void 0:$.rule)?void 0:S[e.formkey])?void 0:O.accept,ref_key:"rfInputFile",ref:n,type:"file",hidden:"",onChange:u},null,40,Xl)):(s(),f("input",{key:1,ref_key:"rfInputFile",ref:n,type:"file",hidden:"",onChange:u},null,544))])}}}),Gl=Ie(Yl,[["__scopeId","data-v-c4a31241"]]),Kl=Object.freeze(Object.defineProperty({__proto__:null,default:Gl},Symbol.toStringTag,{value:"Module"})),Ql={key:0},Zl=["src"],en=["title"],tn=a({__name:"AsaiUploadImg",props:{ujt:{},asaidata:{},formdata:{},formkey:{}},setup(e){const t=e,{$fn:a,$global:l}=t.ujt,o=p(null),i=p(null),r=p("+"),u=async e=>{if(o.value.value){if(i.value=e.target.files[0],o.value.value="",!i.value)return void(r.value="请选择一个文件");const a=new FileReader;a.onload=async()=>{try{e={base64Data:a.result,asaidata:t.asaidata,formdata:t.formdata,formkey:t.formkey,fn:e=>{t.formdata[t.formkey]=e,l.pop.popupload.stat=0}},l.pop.popupload.stat=1,l.pop.popupload.tit="上传图片",l.pop.popupload.params=e,r.value=""}catch(n){r.value="上传失败: "+n.message}var e},a.readAsDataURL(i.value)}};function d(){o.value.click()}return(e,a)=>{var l,i;const c=n("AsaiUploadImgCutPop");return s(),f(_,null,[h(c,{ujt:e.ujt},null,8,["ujt"]),b("label",null,[b("span",null,w((null==(l=t.asaidata)?void 0:l.lang)&&(null==(i=t.asaidata)?void 0:i.lang[e.formkey])||e.formkey)+": ",1),b("div",{class:"as-upload-image",onClick:P(d,["prevent"])},[t.formdata[e.formkey]?(s(),f("div",Ql,[b("img",{src:t.formdata[e.formkey]},null,8,Zl)])):(s(),f("div",{key:1,class:k("+"===r.value?"":"as-upload-tit"),title:r.value},w(r.value),11,en))]),b("input",{accept:"image/*",ref_key:"rfInputFile",ref:o,type:"file",hidden:"",onChange:u},null,544)])],64)}}}),an=Ie(tn,[["__scopeId","data-v-0dc3ca06"]]),ln=Object.freeze(Object.defineProperty({__proto__:null,default:an},Symbol.toStringTag,{value:"Module"})),nn={class:"as-img-area"},on={key:0,class:"as-img-preview"},sn=["src"],rn=["src"],un={class:"as-img-btns"},dn=Ie(a({__name:"AsaiUploadImgCut",props:{ujt:{},params:{}},setup(e){const t=e,{$fn:a}=t.ujt,l=p(""),n=p(null),o=p(null),i=p(null),r=p({x:0,y:0,width:0,height:0,maxWidth:0,maxHeight:0}),u=p({type:null,startX:0,startY:0,originalX:0,originalY:0,originalWidth:0,originalHeight:0,direction:null}),d=m((()=>({transform:`translate(${r.value.x}px, ${r.value.y}px)`,width:`${r.value.width}px`,height:`${r.value.height}px`}))),c=m((()=>r.value.width>0&&r.value.height>0)),v=()=>{const e=n.value,t=i.value;if(!e||!t)return void console.error("Image or container element not found.");const a=Math.min(t.clientWidth,e.naturalWidth),l=Math.min(t.clientHeight,e.naturalHeight),o=Math.min(.8*a,e.naturalWidth),s=Math.min(.8*l,e.naturalHeight);r.value={x:(a-o)/2,y:(l-s)/2,width:o,height:s,maxWidth:a,maxHeight:l},console.log("Initial crop params:",r.value)},g=(e,t=null)=>{console.log("Interaction started:",e,t);const a=window.event||a,l=a.touches?a.touches[0]:a;u.value={type:e,startX:l.clientX,startY:l.clientY,originalX:r.value.x,originalY:r.value.y,originalWidth:r.value.width,originalHeight:r.value.height,direction:t};const n=t=>{requestAnimationFrame((()=>{"move"===e?h(t):y(t)}))};window.addEventListener("mousemove",n),window.addEventListener("touchmove",n),window.addEventListener("mouseup",j),window.addEventListener("touchend",j)},h=e=>{const t=window.event||e,a=t.touches?t.touches[0]:t;if("move"!==u.value.type)return;const l=a.clientX-u.value.startX,n=a.clientY-u.value.startY,o=Math.max(0,Math.min(u.value.originalX+l,r.value.maxWidth-r.value.width)),s=Math.max(0,Math.min(u.value.originalY+n,r.value.maxHeight-r.value.height));Object.assign(r.value,{x:o,y:s})},y=e=>{const t=window.event||e,a=t.touches?t.touches[0]:t;if("resize"!==u.value.type)return;const l=a.clientX-u.value.startX,n=a.clientY-u.value.startY,o=u.value.direction;let s=u.value.originalWidth,i=u.value.originalHeight,d=u.value.originalX,c=u.value.originalY;switch(o){case"tr":s=Math.max(100,Math.min(u.value.originalWidth+l,r.value.maxWidth-d)),i=Math.max(100,u.value.originalHeight-n),c=Math.max(0,u.value.originalY+n);break;case"tl":s=Math.max(100,u.value.originalWidth-l),i=Math.max(100,u.value.originalHeight-n),d=Math.max(0,u.value.originalX+l),c=Math.max(0,u.value.originalY+n);break;case"br":s=Math.max(100,u.value.originalWidth+l),i=Math.max(100,u.value.originalHeight+n);break;case"bl":s=Math.max(100,u.value.originalWidth-l),i=Math.max(100,u.value.originalHeight+n),d=Math.max(0,u.value.originalX+l)}s=Math.min(s,r.value.maxWidth-d),i=Math.min(i,r.value.maxHeight-c),Object.assign(r.value,{x:d,y:c,width:s,height:i}),console.log("Resized crop params:",r.value)},j=()=>{u.value.type=null,window.removeEventListener("mousemove",h),window.removeEventListener("touchmove",h),window.removeEventListener("mousemove",y),window.removeEventListener("touchmove",y),window.removeEventListener("mouseup",j),window.removeEventListener("touchend",j)},k=()=>{var e,a,s,i;const u=n.value,d=u.naturalWidth/u.width,c=u.naturalHeight/u.height,p=Math.min(r.value.width*d,u.naturalWidth),v=Math.min(r.value.height*c,u.naturalHeight),m=document.createElement("canvas");m.width=p,m.height=v;m.getContext("2d").drawImage(u,r.value.x*d,r.value.y*c,p,v,0,0,p,v),l.value=m.toDataURL("image/png",.9),(null==(i=null==(s=null==(e=t.params.asaidata)?void 0:e.rule)?void 0:s[null==(a=t.params)?void 0:a.formkey])?void 0:i.data)&&D((()=>{let e=t.params.asaidata.rule[t.params.formkey].data,a={};if(e.width<p||e.height<v){e.height/v>e.width/p?(a.width=e.width,a.height=v*e.width/p):(a.width=p*e.height/v,a.height=e.height);const t=o.value,n=document.createElement("canvas");n.width=a.width,n.height=a.height;n.getContext("2d").drawImage(t,0,0,a.width,a.height),l.value=n.toDataURL("image/png",.9)}}))},w=()=>{const e=document.createElement("a");e.download="cropped-image.png",e.href=l.value,e.click()},$=()=>{t.params.fn(l.value)};return(e,a)=>(s(),f("div",nn,[l.value?(s(),f("div",on,[b("img",{ref_key:"cutImage",ref:o,src:l.value,alt:"裁剪结果"},null,8,sn)])):(s(),f("div",{key:1,class:"as-img-cut",ref_key:"previewContainer",ref:i},[b("img",{ref_key:"previewImage",ref:n,src:t.params.base64Data,onLoad:v},null,40,rn),C(b("div",{class:"as-img-crop-box",style:L(d.value),onMousedown:a[8]||(a[8]=P((e=>g("move")),["prevent"])),onTouchstart:a[9]||(a[9]=P((e=>g("move")),["prevent"]))},[b("div",{class:"as-img-crop-handle top-left",onMousedown:a[0]||(a[0]=P((e=>g("resize","tl")),["stop"])),onTouchstart:a[1]||(a[1]=P((e=>g("resize","tl")),["stop"]))},null,32),b("div",{class:"as-img-crop-handle top-right",onMousedown:a[2]||(a[2]=P((e=>g("resize","tr")),["stop"])),onTouchstart:a[3]||(a[3]=P((e=>g("resize","tr")),["stop"]))},null,32),b("div",{class:"as-img-crop-handle bottom-left",onMousedown:a[4]||(a[4]=P((e=>g("resize","bl")),["stop"])),onTouchstart:a[5]||(a[5]=P((e=>g("resize","bl")),["stop"]))},null,32),b("div",{class:"as-img-crop-handle bottom-right",onMousedown:a[6]||(a[6]=P((e=>g("resize","br")),["stop"])),onTouchstart:a[7]||(a[7]=P((e=>g("resize","br")),["stop"]))},null,32)],36),[[E,c.value]])],512)),b("div",un,[l.value?(s(),f(_,{key:0},[b("button",{onClick:w}," 下载图片 "),b("button",{onClick:$}," 确认上传 ")],64)):(s(),f("button",{key:1,onClick:k},"确认裁剪"))])]))}}),[["__scopeId","data-v-1feb7599"]]),cn=Object.freeze(Object.defineProperty({__proto__:null,default:dn},Symbol.toStringTag,{value:"Module"})),pn=a({__name:"AsaiUploadImgCutPop",props:{ujt:{}},setup(e){const t=e,{$global:a}=t.ujt;return(e,t)=>{const l=n("AsaiUploadImgCut"),r=n("PopBox");return s(),o(r,{ujt:e.ujt,id:"popupload",full:1},{default:F((()=>[i(a).pop.popupload.stat?(s(),o(l,{key:0,ujt:e.ujt,params:i(a).pop.popupload.params},null,8,["ujt","params"])):O("",!0)])),_:1},8,["ujt"])}}}),vn=Object.freeze(Object.defineProperty({__proto__:null,default:pn},Symbol.toStringTag,{value:"Module"})),mn={class:"as-form-area"},gn=a({__name:"AsaiForm",props:{ujt:{},asaidata:{}},setup(e){const t=e;let a={};const l=Object.assign({"./AsaiForm.vue":X,"./AsaiFormLi.vue":il,"./AsaiFormObject.vue":dl,"./AsaiInput.vue":vl,"./AsaiRichEditor.vue":Tl,"./AsaiSelect.vue":zl,"./AsaiUpBinary.vue":Fl,"./AsaiUpload.vue":Kl,"./AsaiUploadImg.vue":ln,"./AsaiUploadImgCut.vue":cn,"./AsaiUploadImgCutPop.vue":vn});function o(e){const t=e.match(/([^\\/]+)(?=\.vue$)/);return t?t[1]:null}for(let n in l)l[o(n)||n]=l[n],delete l[n];function i(e){return(null==e?void 0:e.default)?e.default:r(e)}return t.asaidata.comp?Object.assign(t.asaidata.comp,l):t.asaidata.comp={...l},t.asaidata.cmComp=e=>{var l,n,o;return a[e]||((null==(o=null==(n=null==(l=t.asaidata)?void 0:l.rule)?void 0:n[e])?void 0:o.comp)&&t.asaidata.comp[t.asaidata.rule[e].comp]?a[e]=i(t.asaidata.comp[t.asaidata.rule[e].comp]):t.asaidata.comp[e]?a[e]=i(t.asaidata.comp[e]):"object"===e&&t.asaidata.comp&&t.asaidata.comp.object&&(a[e]=i(t.asaidata.comp.object))),a[e]},v((()=>{a=null})),(e,t)=>{const a=n("AsaiFormLi");return s(),f("div",mn,[h(a,{ujt:e.ujt,asaidata:e.asaidata,formdata:e.asaidata.data},null,8,["ujt","asaidata","formdata"])])}}}),fn={class:"as-page-area"},hn=Ie(a({__name:"PageErr",props:{ujt:{}},setup:e=>(e,t)=>{const a=n("UserCard");return s(),f("div",fn,[b("div",null,[t[0]||(t[0]=b("h1",null,"Web Page Error.",-1)),t[1]||(t[1]=b("h4",null,"网页错误。",-1)),h(a,{ujt:e.ujt},null,8,["ujt"])])])}}),[["__scopeId","data-v-7a37134e"]]),yn=Object.freeze(Object.defineProperty({__proto__:null,default:hn},Symbol.toStringTag,{value:"Module"})),bn={class:"as-page-area"},jn=a({__name:"PageLoadClient",props:{ujt:{}},setup:e=>(e,t)=>{const a=n("UserCard");return s(),f("div",bn,[b("div",null,[t[0]||(t[0]=b("h1",null,"Front-end page loading in progress. Please standby.",-1)),t[1]||(t[1]=b("h4",null,"前端页面加载进行中，请耐心等待。",-1)),h(a,{ujt:e.ujt},null,8,["ujt"])])])}}),_n=Object.freeze(Object.defineProperty({__proto__:null,default:jn},Symbol.toStringTag,{value:"Module"})),kn={class:"as-page-area"},wn=a({__name:"PageLoadServer",props:{ujt:{}},setup:e=>(e,t)=>{const a=n("UserCard");return s(),f("div",kn,[b("div",null,[t[0]||(t[0]=b("h1",null,"Backend service loading. Please wait.",-1)),t[1]||(t[1]=b("h4",null,"后端服务加载中，请稍候。",-1)),h(a,{ujt:e.ujt},null,8,["ujt"])])])}}),$n=Object.freeze(Object.defineProperty({__proto__:null,default:wn},Symbol.toStringTag,{value:"Module"})),Sn={class:"as-page-area"},On=a({__name:"PageLoadUserToken",props:{ujt:{}},setup:e=>(e,t)=>{const a=n("UserCard");return s(),f("div",Sn,[b("div",null,[t[0]||(t[0]=b("h1",null,"Log in to access this page.",-1)),t[1]||(t[1]=b("h4",null,"请登录后访问此页面。",-1)),h(a,{ujt:e.ujt},null,8,["ujt"])])])}}),xn=Object.freeze(Object.defineProperty({__proto__:null,default:On},Symbol.toStringTag,{value:"Module"})),Mn={class:"as-page-area"},Pn=a({__name:"PageLoadUserTokenOnline",props:{ujt:{}},setup:e=>(e,t)=>{const a=n("UserCard");return s(),f("div",Mn,[b("div",null,[t[0]||(t[0]=b("h1",null,"Offline. Log in, refresh and retry.",-1)),t[1]||(t[1]=b("h4",null,"离线状态，请登录刷新重试。",-1)),h(a,{ujt:e.ujt},null,8,["ujt"])])])}}),Cn=Object.freeze(Object.defineProperty({__proto__:null,default:Pn},Symbol.toStringTag,{value:"Module"})),Tn={class:"as-page-area"},An=a({__name:"PageLoadWs",props:{ujt:{},type:{}},setup(e){const t=e;return(e,a)=>{const l=n("UserCard");return s(),f("div",Tn,[b("div",null,[a[0]||(a[0]=b("h1",null,"WS comm service loading.",-1)),b("h3",null,w(t.type),1),a[1]||(a[1]=b("h4",null,"WS 通信服务加载中。",-1)),h(l,{ujt:e.ujt},null,8,["ujt"])])])}}}),Ln=Object.freeze(Object.defineProperty({__proto__:null,default:An},Symbol.toStringTag,{value:"Module"})),Un=["id"],zn=["id"],En=Ie(a({__name:"PopBoxMask",props:{ujt:{},id:{}},setup(e){var t;U((e=>({"01feb092":i(l).pop[a.id].zindex})));const a=e,{$global:l}=a.ujt;return(null==(t=l.pop[a.id])?void 0:t.zindex)||(l.pop[a.id].zindex=101),(e,t)=>i(l).pop[a.id].full?(s(),f(_,{key:0},[i(l).pop[a.id].stat?(s(),o(H,{key:0,to:"#popteleport"},[b("div",{class:"as-pop-box-mask-fixed",style:L(i(l).pop[a.id].maskstyle),id:"poparea"+e.id},[S(e.$slots,"default",{},void 0,!0)],12,Un)])):O("",!0)],64)):(s(),f(_,{key:1},[i(l).pop[a.id].stat?(s(),f("div",{key:0,class:"as-pop-box-mask",style:L(i(l).pop[a.id].maskstyle),id:"poparea"+e.id},[S(e.$slots,"default",{},void 0,!0)],12,zn)):O("",!0)],64))}}),[["__scopeId","data-v-0e8d2f2f"]]),In={class:"as-pop-content"},Wn={class:"as-pop-content-txt"},Rn={key:0,class:"as-pop-content-btns"},qn=["onPointerdown"],Dn=Ie(a({__name:"PopBoxContent",props:{ujt:{},id:{}},setup(e){const t=e,{$global:a}=t.ujt;return(e,l)=>{var n,o;return s(),f(_,null,[b("div",In,[S(e.$slots,"default",{},(()=>{var e;return[b("div",Wn,w((null==(e=i(a).pop[t.id])?void 0:e.con)||""),1)]}),!0)]),(null==(o=null==(n=i(a).pop[t.id])?void 0:n.btns)?void 0:o.length)?(s(),f("div",Rn,[(s(!0),f(_,null,$(i(a).pop[t.id].btns,((e,t)=>(s(),f("div",{onPointerdown:P((t=>e.fn()),["stop"]),class:k(t?"":"cur")},w(e.nm),43,qn)))),256))])):O("",!0)],64)}}}),[["__scopeId","data-v-7ccda768"]]),Nn={class:"as-pop-bar"},Fn={key:0,class:"as-pop-opts"},Hn=Ie(a({__name:"PopBoxBar",props:{ujt:{},id:{}},setup(e){const t=e,{$global:a}=t.ujt;return(e,l)=>{var n;return s(),f(_,null,[b("div",Nn,w(i(a).pop[t.id].tit||""),1),(null==(n=i(a).pop[t.id])?void 0:n.noclose)?O("",!0):(s(),f("div",Fn,[b("div",{onPointerdown:l[0]||(l[0]=P((e=>function(){var e;(null==(e=a.pop[t.id])?void 0:e.closepop)&&"function"==typeof a.pop[t.id].closepop?a.pop[t.id].closepop():a.pop[t.id].stat=0}()),["stop"]))},"×",32)]))],64)}}}),[["__scopeId","data-v-cf6341c0"]]),Bn=["id"],Vn=["id"],Jn=["id"],Xn=Ie(a({__name:"PopBoxMain",props:{ujt:{},id:{}},setup(e){var t;U((e=>({"202e1d40":i(o).w,"202e1d31":i(o).h,"3a103560":i(l).pop[a.id].width})));const a=e,{$global:l,$model:n}=a.ujt;let o;return o=l.pop[a.id].full?{w:window.innerWidth/2+"px",h:window.innerHeight/2+"px"}:{w:n.data.sys.configzoom.width/2+"px",h:n.data.sys.configzoom.height/2+"px"},(null==(t=l.pop[a.id])?void 0:t.width)||(l.pop[a.id].width="380px"),(e,t)=>{const n=B("popresizezoom");return i(l).pop[a.id].noresize?(s(),f("div",{key:0,class:"as-pop-main",style:L(i(l).pop[a.id].popstyle),id:"pop"+e.id},[S(e.$slots,"default",{},void 0,!0)],12,Bn)):i(l).pop[a.id].full?C((s(),f("div",{key:2,class:"as-pop-main",style:L(i(l).pop[a.id].popstyle),id:"pop"+e.id},[S(e.$slots,"default",{},void 0,!0)],12,Jn)),[[n,{ujt:e.ujt,scale:1}]]):C((s(),f("div",{key:1,class:"as-pop-main",style:L(i(l).pop[a.id].popstyle),id:"pop"+e.id},[S(e.$slots,"default",{},void 0,!0)],12,Vn)),[[n,{ujt:e.ujt}]])}}}),[["__scopeId","data-v-e4e7330d"]]),Yn=["id"],Gn=["id"],Kn=["id"],Qn=Ie(a({__name:"PopBoxDragBar",props:{ujt:{},id:{}},setup(e){const t=e,{$global:a}=t.ujt;return(e,l)=>{const n=B("dragzoom"),o=B("drag");return i(a).pop[t.id].notit?(s(),f(_,{key:0},[],64)):i(a).pop[t.id].nodrag?(s(),f("div",{key:1,class:"as-pop-drag-bar",id:"popbar"+e.id},[S(e.$slots,"default",{},void 0,!0)],8,Yn)):i(a).pop[t.id].full?C((s(),f("div",{key:3,class:"as-pop-drag-bar",id:"popbar"+e.id},[S(e.$slots,"default",{},void 0,!0)],8,Kn)),[[o,{dom:"pop"+e.id,domarea:"poparea"+e.id}]]):C((s(),f("div",{key:2,class:"as-pop-drag-bar",id:"popbar"+e.id},[S(e.$slots,"default",{},void 0,!0)],8,Gn)),[[n,{ujt:e.ujt,dom:{drag:"popbar"+e.id,dragarea:"pop"+e.id}}]])}}}),[["__scopeId","data-v-1ba408ab"]]),Zn=a({__name:"PopBox",props:{ujt:{},id:{},full:{},popstyle:{},maskstyle:{}},setup(e){var t,a;const l=e,{$global:n}=l.ujt;return l.id||(l.id="popdefault"),n.pop[l.id]||(n.pop[l.id]={}),l.full?n.pop[l.id].full=1:n.pop[l.id].full=0,(null==(t=n.pop[l.id])?void 0:t.popstyle)||((null==l?void 0:l.popstyle)?n.pop[l.id].popstyle=l.popstyle:n.pop[l.id].popstyle={}),(null==(a=n.pop[l.id])?void 0:a.maskstyle)||((null==l?void 0:l.maskstyle)?n.pop[l.id].maskstyle=l.maskstyle:n.pop[l.id].maskstyle={"background-color":"rgba(0, 0, 0, 0.1)"}),v((()=>{n.pop[l.id]={}})),(e,t)=>i(n).pop[l.id].stat?(s(),o(En,{key:0,ujt:e.ujt,id:e.id},{default:F((()=>[(s(),o(V,null,[h(Xn,{ujt:e.ujt,id:e.id},{default:F((()=>[h(Qn,{ujt:e.ujt,id:e.id},{default:F((()=>[h(Hn,{ujt:e.ujt,id:e.id},null,8,["ujt","id"])])),_:1},8,["ujt","id"]),h(Dn,{ujt:e.ujt,id:e.id},{default:F((()=>[S(e.$slots,"default")])),_:3},8,["ujt","id"])])),_:3},8,["ujt","id"])],1024))])),_:3},8,["ujt","id"])):O("",!0)}}),eo=Object.freeze(Object.defineProperty({__proto__:null,default:Zn},Symbol.toStringTag,{value:"Module"})),to=a({__name:"PopBoxConfirm",props:{ujt:{},id:{},full:{},popstyle:{},maskstyle:{}},setup(e){var t,a,l,i;const r=e,{$global:u}=r.ujt;return r.id||(r.id="popdefaultboxconfirm"),u.pop[r.id]||(u.pop[r.id]={}),(null==(t=u.pop[r.id])?void 0:t.zindex)||(u.pop[r.id].zindex=101),(null==(a=u.pop[r.id])?void 0:a.noresize)||(u.pop[r.id].noresize=1),(null==(l=u.pop[r.id])?void 0:l.notit)||(u.pop[r.id].notit=1),(null==(i=u.pop[r.id])?void 0:i.btns)||(u.pop[r.id].btns=[{nm:u.lang.asai.confirm,fn:()=>{u.pop[r.id].fn&&u.pop[r.id].fn(),u.pop[r.id].stat=0}},{nm:u.lang.asai.cancel,fn:()=>{u.pop[r.id].stat=0}}]),(e,t)=>{const a=n("PopBox");return s(),o(a,{ujt:e.ujt,id:e.id,full:e.full,popstyle:e.popstyle,maskstyle:e.maskstyle},null,8,["ujt","id","full","popstyle","maskstyle"])}}}),ao=Object.freeze(Object.defineProperty({__proto__:null,default:to},Symbol.toStringTag,{value:"Module"})),lo={key:0,class:"as-pop-drop-area"},no=["id"],oo=Ie(a({__name:"PopDrop",props:{ujt:{},id:{},popstyle:{},maskstyle:{}},setup(e){var t,a,l;U((e=>({"0d53adfe":i(o).pop[n.id].zindex-1,"9f9b0cba":i(o).pop[n.id].zindex})));const n=e,{$global:o}=n.ujt;return n.id||(n.id="popdefaulttip"),o.pop[n.id]||(o.pop[n.id]={}),(null==(t=o.pop[n.id])?void 0:t.zindex)||(o.pop[n.id].zindex=101),(null==(a=o.pop[n.id])?void 0:a.popstyle)||((null==n?void 0:n.popstyle)?o.pop[n.id].popstyle=n.popstyle:o.pop[n.id].popstyle={width:"auto",height:"auto",top:0,right:0}),(null==(l=o.pop[n.id])?void 0:l.maskstyle)||((null==n?void 0:n.maskstyle)?o.pop[n.id].maskstyle=n.maskstyle:o.pop[n.id].maskstyle={}),v((()=>{o.pop[n.id]={}})),(e,t)=>{var a,l,r;return s(),f("div",{class:k((null==(a=i(o).pop[n.id])?void 0:a.css)+" as-pop-drop")},[i(o).pop[n.id].stat&&0!=(null==(l=i(o).pop[n.id].popstyle)?void 0:l.top)?(s(),f("div",lo,[b("div",{class:"as-pop-drop-pop",style:L(i(o).pop[n.id].popstyle)},[S(e.$slots,"pop",{},(()=>[z(w(i(o).pop[n.id].con||""),1)]),!0)],4)])):O("",!0),b("div",{class:"as-pop-drop-des",onClick:t[0]||(t[0]=P((e=>i(o).pop[n.id].stat=i(o).pop[n.id].stat?0:1),["stop"]))},[S(e.$slots,"des",{},(()=>[z(w(i(o).pop[n.id].des||""),1)]),!0)]),i(o).pop[n.id].stat&&0==(null==(r=i(o).pop[n.id].popstyle)?void 0:r.top)?(s(),f("div",{key:1,class:"as-pop-drop-area",id:"pop"+e.id},[b("div",{class:"as-pop-drop-pop",style:L(i(o).pop[n.id].popstyle)},[S(e.$slots,"pop",{},(()=>[z(w(i(o).pop[n.id].con||""),1)]),!0)],4)],8,no)):O("",!0),i(o).pop[n.id].stat?(s(),f("div",{key:2,class:"as-pop-drop-mask",style:L(i(o).pop[n.id].maskstyle),onClick:t[1]||(t[1]=P((e=>i(o).pop[n.id].stat=0),["stop"]))},null,4)):O("",!0)],2)}}}),[["__scopeId","data-v-7b5d03fc"]]),so=Object.freeze(Object.defineProperty({__proto__:null,default:oo},Symbol.toStringTag,{value:"Module"})),io=Ie(a({__name:"PopMod",props:{ujt:{},id:{},popstyle:{},maskstyle:{}},setup(e){var t,a,l;U((e=>({"094d4610":i(o).pop[n.id].zindex-1,c8af139c:i(o).pop[n.id].zindex})));const n=e,{$global:o}=n.ujt;return n.id||(n.id="popdefaultmod"),o.pop[n.id]||(o.pop[n.id]={}),(null==(t=o.pop[n.id])?void 0:t.zindex)||(o.pop[n.id].zindex=101),(null==(a=o.pop[n.id])?void 0:a.popstyle)||((null==n?void 0:n.popstyle)?o.pop[n.id].popstyle=n.popstyle:o.pop[n.id].popstyle={top:0,right:0,width:"180px",height:"100vh","background-color":"#ffffff88"}),(null==(l=o.pop[n.id])?void 0:l.maskstyle)||((null==n?void 0:n.maskstyle)?o.pop[n.id].maskstyle=n.maskstyle:o.pop[n.id].maskstyle={"background-color":"rgba(0, 0, 0, 0.02)"}),v((()=>{o.pop[n.id]={}})),(e,t)=>i(o).pop[n.id].stat?(s(),f(_,{key:0},[b("div",{class:"as-pop-mod-mask",style:L(i(o).pop[n.id].maskstyle),onClick:t[0]||(t[0]=e=>i(o).pop[n.id].stat=0)},null,4),b("div",{class:"as-pop-mod-pop",style:L(i(o).pop[n.id].popstyle)},[S(e.$slots,"default",{},void 0,!0)],4)],64)):O("",!0)}}),[["__scopeId","data-v-3f9e3717"]]),ro=Object.freeze(Object.defineProperty({__proto__:null,default:io},Symbol.toStringTag,{value:"Module"})),uo={key:0,class:"as-pop-msg-tit"},co={key:1,class:"as-pop-msg-con"},po={key:2,class:"as-pop-msg-tm"},vo=Ie(a({__name:"PopMsg",props:{ujt:{}},setup(e){var t,a;const l=e,{$global:n,$fn:o}=l.ujt;if(!n.msg){let e=function(e){var t,a,l,s,i,r;let u=null;if(1===e?(null==(a=null==(t=null==n?void 0:n.msg)?void 0:t.data)?void 0:a.length)&&(u=n.msg.data.shift()):(null==(s=null==(l=null==n?void 0:n.msg)?void 0:l.data)?void 0:s.length)&&(null==(r=null==(i=null==n?void 0:n.msg)?void 0:i.data)?void 0:r.find((t=>t.con===e.con&&t.tit===e.tit)))||(e.tm=o.As.getTime(),n.msg.data.push(e)),o.As.localSet(n.msg.key,n.msg.data),u)return u};n.msg={key:"as-pop-msg",tm:null,stat:0,data:[],bak:[],cur:{},fn:e}}function i(){var e;(null==(e=n.msg.cur)?void 0:e.noclose)||(n.msg.stat=0,n.msg.bak.push(n.msg.fn(1)),n.msg.bak.length>100&&n.msg.bak.splice(80),clearTimeout(n.msg.tm))}const r=m((()=>{var e;return n.msg.data.length?(n.msg.cur=n.msg.data[0],n.msg.stat||(n.msg.stat=1,clearTimeout(n.msg.tm),n.msg.tm=setTimeout((()=>{i()}),(null==(e=n.msg.cur)?void 0:e.time)||3e3)),n.msg.cur):null}));if(!(null==(a=null==(t=n.msg)?void 0:t.data)?void 0:a.length)){const e=o.As.toObj(o.As.localGet(n.msg.key));e&&(n.msg.data=e)}return(e,t)=>{var a,l,n,o,u;return r.value?(s(),f("div",{key:0,class:"as-pop-msg-area",onClick:t[0]||(t[0]=e=>i()),style:L((null==(a=r.value)?void 0:a.maskstyle)||{})},[b("div",{class:k("as-pop-msg"+((null==(l=r.value)?void 0:l.type)||""))},[(null==(n=r.value)?void 0:n.tit)?(s(),f("div",uo,w(r.value.tit),1)):O("",!0),(null==(o=r.value)?void 0:o.con)?(s(),f("div",co,w(r.value.con),1)):O("",!0),(null==(u=r.value)?void 0:u.tm)?(s(),f("div",po," ["+w(r.value.tm)+"] ",1)):O("",!0)],2)],4)):O("",!0)}}}),[["__scopeId","data-v-91713fef"]]),mo=Object.freeze(Object.defineProperty({__proto__:null,default:vo},Symbol.toStringTag,{value:"Module"})),go=["id"],fo=Ie(a({__name:"PopTip",props:{ujt:{},id:{},popstyle:{},maskstyle:{}},setup(e){var t,a,l;U((e=>({"1cbfce2a":i(r).pop[n.id].zindex,fe5a376e:i(r).pop[n.id].zindex-1})));const n=e,{$global:r}=n.ujt;function u(e){r.pop[n.id].popstyle.top=e.clientY+"px",r.pop[n.id].popstyle.left=e.clientX+"px",r.pop[n.id].popstyle.transform=`scale(${r.scale})`,r.pop[n.id].stat=r.pop[n.id].stat?0:1}return n.id||(n.id="popdefaulttip"),r.pop[n.id]||(r.pop[n.id]={}),(null==(t=r.pop[n.id])?void 0:t.zindex)||(r.pop[n.id].zindex=101),(null==(a=r.pop[n.id])?void 0:a.popstyle)||((null==n?void 0:n.popstyle)?r.pop[n.id].popstyle=n.popstyle:r.pop[n.id].popstyle={width:"auto",height:"auto"}),(null==(l=r.pop[n.id])?void 0:l.maskstyle)||((null==n?void 0:n.maskstyle)?r.pop[n.id].maskstyle=n.maskstyle:r.pop[n.id].maskstyle={}),v((()=>{r.pop[n.id]={}})),(e,t)=>{var a;return s(),f("div",{class:k((null==(a=i(r).pop[n.id])?void 0:a.css)+" as-pop-tip")},[b("div",{class:"as-pop-tip-des",onClick:P(u,["stop"])},[S(e.$slots,"des",{},(()=>[z(w(i(r).pop[n.id].des||""),1)]),!0)]),i(r).pop[n.id].stat?(s(),o(H,{key:0,to:"#popteleport"},[b("div",{class:"as-pop-tip-mask",style:L(i(r).pop[n.id].maskstyle),onClick:t[1]||(t[1]=P((e=>{r.pop[n.id].stat=0}),["stop"]))},[b("div",{class:"as-pop-tip-pop",id:"pop"+e.id,style:L(i(r).pop[n.id].popstyle),onClick:t[0]||(t[0]=P((()=>{}),["stop"]))},[S(e.$slots,"pop",{},(()=>[z(w(i(r).pop[n.id].con||""),1)]),!0)],12,go)],4)])):O("",!0)],2)}}}),[["__scopeId","data-v-cd3b2a03"]]),ho=Object.freeze(Object.defineProperty({__proto__:null,default:fo},Symbol.toStringTag,{value:"Module"})),yo={key:0,class:"as-pop-tipconfirm-pop"},bo={class:"as-pop-tipconfirm-content"},jo={class:"as-pop-tipconfirm-btns"},_o=Ie(a({__name:"PopTipConfirm",props:{ujt:{},id:{},popstyle:{},maskstyle:{},fn:{}},setup(e){const t=e,{$global:a}=t.ujt;return t.id||(t.id="popdefaulttipconfirm"),(e,l)=>{const r=n("PopTip");return s(),o(r,{ujt:e.ujt,id:e.id},{des:F((()=>[S(e.$slots,"des",{},void 0,!0)])),pop:F((()=>[i(a).pop[e.id].stat?(s(),f("div",yo,[b("div",bo,[S(e.$slots,"pop",{},void 0,!0)]),b("div",jo,[t.fn?(s(),f("div",{key:0,onClick:l[0]||(l[0]=e=>t.fn())},w(i(a).lang.asai.confirm),1)):O("",!0),b("div",{onClick:l[1]||(l[1]=t=>i(a).pop[e.id].stat=0),class:"cur"},w(i(a).lang.asai.cancel),1)])])):O("",!0)])),_:3},8,["ujt","id"])}}}),[["__scopeId","data-v-6b0794f2"]]),ko=Object.freeze(Object.defineProperty({__proto__:null,default:_o},Symbol.toStringTag,{value:"Module"})),wo={class:"as-usercard"},$o={class:"as-user-show"},So=Ie(a({__name:"UserCard",props:{ujt:{}},setup(e){const t=e,{$fn:a,$global:l}=t.ujt,{initUserToken:o}=a.useInitUser(t.ujt,"webserver");return o(),(e,t)=>{var o,r,u,d;const c=n("PopMod");return s(),f("div",wo,[(null==(r=null==(o=i(l).user)?void 0:o.info)?void 0:r.us)?(s(),f(_,{key:0},[b("div",{onClick:t[0]||(t[0]=e=>i(l).pop.usermenu.stat=1)},w(null==(d=null==(u=i(l).user)?void 0:u.info)?void 0:d.us),1),h(c,{ujt:e.ujt,id:"usermenu"},{default:F((()=>[b("div",$o,[b("div",{onClick:t[1]||(t[1]=e=>i(a).sethash("user/exit/"))},"退出"),b("div",{onClick:t[2]||(t[2]=e=>i(a).sethash("user/edit/"))},"编辑"),b("div",{onClick:t[3]||(t[3]=e=>i(a).sethash(""))},"首页"),i(l).user.info.lv>3?(s(),f("div",{key:0,onClick:t[4]||(t[4]=e=>i(a).sethash("user/manage/list/"))}," 列表 ")):O("",!0)])])),_:1},8,["ujt"])],64)):(s(),f(_,{key:1},[b("div",{onClick:t[5]||(t[5]=e=>i(a).sethash("user/login/"))},"登录"),b("div",{onClick:t[6]||(t[6]=e=>i(a).As.localInit())},"重置")],64))])}}}),[["__scopeId","data-v-82f0cf9d"]]),Oo=Object.freeze(Object.defineProperty({__proto__:null,default:So},Symbol.toStringTag,{value:"Module"})),xo={class:"as-user-area-manage"},Mo={class:"as-user"},Po={key:0},Co={key:1},To={class:"as-user-btns"},Ao=a({__name:"UserDelManage",props:{ujt:{}},setup(e){const t=e,{$fn:a}=t.ujt,{rfuserinfodata:l,delUser:n}=a.useUser(t);return n(),(e,t)=>(s(),f("div",xo,[b("div",Mo,[i(l).msg?(s(),f("h1",Po,w(i(l).msg),1)):(s(),f("h1",Co,w(i(a).lg("channeluser.ui.delok")),1)),b("div",To,[b("div",{class:"cur",onClick:t[0]||(t[0]=e=>i(a).sethash("user/manage/list/"))},w(i(a).lg("channeluser.ui.list")),1)])])]))}}),Lo=Object.freeze(Object.defineProperty({__proto__:null,default:Ao},Symbol.toStringTag,{value:"Module"})),Uo={class:"as-user-area"},zo={class:"as-user"},Eo={class:"as-user-btns"},Io=a({__name:"UserEdit",props:{ujt:{}},setup(e){const t=e,{$fn:a}=t.ujt,{rfuserinfodata:l,userEdit:n}=a.useUser(t);return(e,t)=>(s(),f("div",Uo,[b("div",zo,[S(e.$slots,"tit"),b("label",null,[b("div",null,w(i(a).lg("channeluser.ui.pw"))+"：",1),C(b("input",{type:"password","onUpdate:modelValue":t[0]||(t[0]=e=>i(l).pw=e)},null,512),[[T,i(l).pw]])]),b("label",null,[b("div",null,w(i(a).lg("channeluser.ui.pwn"))+"：",1),C(b("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>i(l).pwn=e)},null,512),[[T,i(l).pwn]])]),b("label",null,[b("div",null,w(i(a).lg("channeluser.ui.pwnn"))+"：",1),C(b("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>i(l).pwnn=e)},null,512),[[T,i(l).pwnn]])]),b("div",Eo,[b("div",{class:"cur",onClick:t[3]||(t[3]=e=>i(n)())},w(i(a).lg("channeluser.ui.edit")),1),S(e.$slots,"btn")])])]))}}),Wo=Object.freeze(Object.defineProperty({__proto__:null,default:Io},Symbol.toStringTag,{value:"Module"})),Ro={class:"as-user-area-manage"},qo={class:"as-user"},Do=["value"],No={class:"as-user-btns"},Fo=a({__name:"UserEditManage",props:{ujt:{}},setup(e){const t=e,{$global:a,$fn:l}=t.ujt,{rfuserinfodata:n,editUser:o,initUser:r,cmLvList:u}=l.useUser(t);return r(),(e,t)=>{var r,d;return s(),f("div",Ro,[b("div",qo,[S(e.$slots,"tit"),b("label",null,[b("div",null,w(i(l).lg("channeluser.data.us"))+"：",1),z(" "+w(i(n).us),1)]),i(n).lv<(null==(d=null==(r=i(a).user)?void 0:r.info)?void 0:d.lv)?(s(),f(_,{key:0},[b("label",null,[b("div",null,w(i(l).lg("channeluser.data.pw"))+"：",1),C(b("input",{type:"password","onUpdate:modelValue":t[0]||(t[0]=e=>i(n).pw=e)},null,512),[[T,i(n).pw]])]),b("label",null,[b("div",null,w(i(l).lg("channeluser.data.lv"))+"：",1),C(b("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>i(n).lv=e)},[(s(!0),f(_,null,$(i(u),(e=>(s(),f("option",{key:"lv"+e[0],value:+e[0]},w(e[1]),9,Do)))),128))],512),[[A,i(n).lv]])]),b("div",No,[b("div",{class:"cur",onClick:t[2]||(t[2]=e=>i(o)())},w(i(l).lg("channeluser.ui.edit")),1),S(e.$slots,"btn")])],64)):(s(),f(_,{key:1},[b("label",null,w(i(l).lg("channeluser.ui.nopower")),1),S(e.$slots,"btn")],64))])])}}}),Ho=Object.freeze(Object.defineProperty({__proto__:null,default:Fo},Symbol.toStringTag,{value:"Module"})),Bo={class:"as-user-area"},Vo={class:"as-user"},Jo={class:"as-user-btns"},Xo=a({__name:"UserExit",props:{ujt:{}},setup(e){const t=e,{$fn:a}=t.ujt,{userExit:l}=a.useUser(t);return l(),(e,t)=>(s(),f("div",Bo,[b("div",Vo,[S(e.$slots,"tit"),b("div",Jo,[b("div",{class:"cur",onClick:t[0]||(t[0]=e=>i(a).sethash("user/login/"))},w(i(a).lg("channeluser.ui.login")),1),S(e.$slots,"btn")])])]))}}),Yo=Object.freeze(Object.defineProperty({__proto__:null,default:Xo},Symbol.toStringTag,{value:"Module"})),Go={class:"as-user-area-manage"},Ko={class:"as-user"},Qo={class:"as-user-list as-list-nth"},Zo={class:"li"},es={class:"lis"},ts={key:0,class:"btns"},as=["onClick"],ls=["onClick"],ns={key:1,class:"btns"},os=a({__name:"UserListManage",props:{ujt:{}},setup(e){const t=e,{$fn:a,$db:l,$global:r}=t.ujt,{fetchContent:u,setPage:d,delUser:c}=a.useUser(t);return l.channeluser.fetch=u,l.channeluser.setpage=d,M((()=>{u(0)})),l.channeluser.cmPageSize=m((()=>{var e;return Number(r.location.query.ps||(null==(e=l.channeluser.config)?void 0:e.ps))||5})),(e,t)=>{const u=n("UserEditManage"),d=n("PopBox"),p=n("PopBoxConfirm"),v=n("ChannelListSearch"),m=n("ChannelListPage");return s(),f(_,null,[h(d,{ujt:e.ujt,id:"popedituser",full:1},{default:F((()=>[i(r).pop.popedituser.stat?(s(),o(u,{key:0,ujt:e.ujt},{btn:F((()=>[b("div",{onClick:t[0]||(t[0]=e=>i(r).pop.popedituser.stat=0)},w(i(a).lg("asai.close")),1)])),_:1},8,["ujt"])):O("",!0)])),_:1},8,["ujt"]),h(p,{ujt:e.ujt,id:"popconfirmdeluser",full:1},null,8,["ujt"]),b("div",Go,[b("div",Ko,[S(e.$slots,"tit"),S(e.$slots,"btn"),h(v,{ujt:e.ujt,opt:{channel:"channeluser",model:"asai"}},null,8,["ujt"]),b("div",Qo,[(s(!0),f(_,null,$(i(l).channeluser.list,(e=>{var t,l;return s(),f("div",null,[b("div",Zo,w(e.us),1),b("div",es,w(i(r).lang.channeluser.lv[e.lv]),1),+e.lv<(null==(l=null==(t=i(r).user)?void 0:t.info)?void 0:l.lv)?(s(),f("div",ts,[b("div",{onClick:t=>function(e){a.setquery({us:e.us},1),r.pop.popedituser.stat=1,r.pop.popedituser.tit=r.lang.channeluser.ui.edit+" "+e.us}(e)},w(i(a).lg("channeluser.ui.edit")),9,as),b("div",{onClick:t=>function(e){r.pop.popconfirmdeluser.stat=1,r.pop.popconfirmdeluser.con=r.lang.channeluser.ui.del+" "+e.us,r.pop.popconfirmdeluser.fn=()=>c(e.us)}(e)},w(i(a).lg("channeluser.ui.del")),9,ls)])):(s(),f("div",ns,"-"))])})),256))]),h(m,{ujt:e.ujt,opt:{channel:"channeluser",model:"asai"}},null,8,["ujt"])])])],64)}}}),ss=Object.freeze(Object.defineProperty({__proto__:null,default:os},Symbol.toStringTag,{value:"Module"})),is={class:"as-user-area"},rs={class:"as-user"},us={class:"as-user-btns"},ds=a({__name:"UserLogin",props:{ujt:{}},setup(e){const t=e,{$fn:a}=t.ujt,{rfuserinfodata:l,userLogin:n}=a.useUser(t);return(e,t)=>(s(),f("div",is,[b("div",rs,[S(e.$slots,"tit"),b("label",null,[b("div",null,w(i(a).lg("channeluser.data.us"))+"：",1),C(b("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i(l).us=e)},null,512),[[T,i(l).us]])]),b("label",null,[b("div",null,w(i(a).lg("channeluser.data.pw"))+"：",1),C(b("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>i(l).pw=e)},null,512),[[T,i(l).pw]])]),b("div",us,[b("div",{class:"cur",onClick:t[2]||(t[2]=e=>i(n)())},w(i(a).lg("channeluser.ui.login")),1),S(e.$slots,"btn")])])]))}}),cs=Object.freeze(Object.defineProperty({__proto__:null,default:ds},Symbol.toStringTag,{value:"Module"})),ps={class:"as-user-btns"},vs=a({__name:"UserManage",props:{ujt:{}},setup(e){const t=e,{$fn:a,$db:l,$global:r}=t.ujt,{initUserChannel:u}=a.useUser(t);return u(),(e,t)=>{var u;const d=n("UserRegManage"),c=n("PopBox"),p=n("UserListManage");return s(),f(_,null,[h(c,{ujt:e.ujt,id:"popadduser",full:1},{default:F((()=>{var l;return[(null==(l=i(r).pop.popadduser)?void 0:l.stat)?(s(),o(d,{key:0,ujt:e.ujt},{btn:F((()=>[b("div",{onClick:t[0]||(t[0]=e=>i(r).pop.popadduser.stat=0)},w(i(a).lg("asai.close")),1)])),_:1},8,["ujt"])):O("",!0)]})),_:1},8,["ujt"]),(null==(u=i(l).channeluser)?void 0:u.stat)?(s(),o(p,{key:0,ujt:e.ujt},{tit:F((()=>[b("h1",null,w(i(a).lg("channeluser.ui.list")),1)])),btn:F((()=>[b("div",ps,[b("div",{class:"cur",onClick:t[1]||(t[1]=e=>(r.pop.popadduser.stat=1,void(r.pop.popadduser.tit=r.lang.channeluser.ui.add)))},w(i(a).lg("channeluser.ui.add")),1),b("div",{onClick:t[2]||(t[2]=e=>i(a).sethash(""))},w(i(a).lg("asai.index")),1),b("div",{onClick:t[3]||(t[3]=e=>i(a).sethash("user/exit/"))},w(i(a).lg("channeluser.ui.exit")),1)])])),_:1},8,["ujt"])):O("",!0)],64)}}}),ms=Object.freeze(Object.defineProperty({__proto__:null,default:vs},Symbol.toStringTag,{value:"Module"})),gs={class:"as-user-area"},fs={class:"as-user"},hs={class:"as-user-btns"},ys=a({__name:"UserReg",props:{ujt:{}},setup(e){const t=e,{$fn:a}=t.ujt,{rfuserinfodata:l,userReg:n}=a.useUser(t);return(e,t)=>(s(),f("div",gs,[b("div",fs,[S(e.$slots,"tit"),b("label",null,[b("div",null,w(i(a).lg("channeluser.data.us"))+"：",1),C(b("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i(l).us=e)},null,512),[[T,i(l).us]])]),b("label",null,[b("div",null,w(i(a).lg("channeluser.data.pw"))+"：",1),C(b("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>i(l).pw=e)},null,512),[[T,i(l).pw]])]),b("div",hs,[b("div",{class:"cur",onClick:t[2]||(t[2]=e=>i(n)())},w(i(a).lg("channeluser.ui.reg")),1),S(e.$slots,"btn")])])]))}}),bs=Object.freeze(Object.defineProperty({__proto__:null,default:ys},Symbol.toStringTag,{value:"Module"})),js={class:"as-user-area-manage"},_s={class:"as-user"},ks=["value"],ws={class:"as-user-btns"},$s=a({__name:"UserRegManage",props:{ujt:{}},setup(e){const t=e,{$fn:a}=t.ujt,{rfuserinfodata:l,addUser:n,cmLvList:o}=a.useUser(t);return(e,t)=>(s(),f("div",js,[b("div",_s,[S(e.$slots,"tit"),b("label",null,[b("div",null,w(i(a).lg("channeluser.data.us"))+"：",1),C(b("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i(l).us=e)},null,512),[[T,i(l).us]])]),b("label",null,[b("div",null,w(i(a).lg("channeluser.data.pw"))+"：",1),C(b("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>i(l).pw=e)},null,512),[[T,i(l).pw]])]),b("label",null,[b("div",null,w(i(a).lg("channeluser.data.lv"))+"：",1),C(b("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>i(l).lv=e)},[(s(!0),f(_,null,$(i(o),(e=>(s(),f("option",{key:"lv"+e[0],value:+e[0]},w(e[1]),9,ks)))),128))],512),[[A,i(l).lv]])]),b("div",ws,[b("div",{class:"cur",onClick:t[3]||(t[3]=e=>i(n)())},w(i(a).lg("channeluser.ui.add")),1),S(e.$slots,"btn")])])]))}}),Ss=Object.freeze(Object.defineProperty({__proto__:null,default:$s},Symbol.toStringTag,{value:"Module"})),Os=[{install(e,t){t.loadv({app:e,eager:!0,files:Object.assign({"./asdirectives/v-drag/index.ts":ae,"./asdirectives/v-dragdiv/index.ts":ne,"./asdirectives/v-dragzoom/index.ts":ie,"./asdirectives/v-levelread/index.ts":ue,"./asdirectives/v-popresizezoom/index.ts":pe,"./asdirectives/v-resizeflexwidthzoom/index.ts":me})}),t.loadts({app:e,key:"$engineasai",eager:!0,files:Object.assign({"./asengine/api/useApi.ts":ge,"./asengine/common/As.ts":he,"./asengine/common/AsCode.ts":be,"./asengine/common/Router.ts":_e,"./asengine/common/useChannel.ts":ke,"./asengine/common/usePage.ts":we,"./asengine/common/useUser.ts":$e,"./asengine/init/useInitApp.ts":Se,"./asengine/init/useInitUser.ts":Oe,"./asengine/provide/useProvide.ts":Ae,"./asengine/ws/useWs.ts":Le})}),t.loadvue({loadfn:t.loadfn,app:e,eager:!0,files:Object.assign({"./asui/app/AsaiComponent.vue":ze,"./asui/app/AsaiInitPage.vue":Je,"./asui/app/AsaiWeb.vue":Re,"./asui/app/AsaiWebServer.vue":Ne,"./asui/app/AsaiWebServerUser.vue":Be,"./asui/app/AsaiWebServerUserOnline.vue":Ge,"./asui/channel/ChannelAdd.vue":et,"./asui/channel/ChannelClass.vue":nt,"./asui/channel/ChannelEdit.vue":rt,"./asui/channel/ChannelIndex.vue":gt,"./asui/channel/ChannelList.vue":kt,"./asui/channel/ChannelListPage.vue":xt,"./asui/channel/ChannelListSearch.vue":It,"./asui/channel/ChannelShow.vue":qt,"./asui/common/AsLink.vue":Qt,"./asui/common/AsPageBusy.vue":aa,"./asui/common/AsSvg.vue":ra,"./asui/common/ChangeLang.vue":ca,"./asui/common/ChangeTheme.vue":ma,"./asui/common/ImgUploadCut.vue":wa,"./asui/common/JsonEditor.vue":Ca,"./asui/common/JsonTree.vue":qa,"./asui/common/MenuShowFix.vue":Ja,"./asui/common/RouterMap.vue":Ka,"./asui/common/RouterView.vue":Za,"./asui/common/VirtualList.vue":al,"./asui/common/ZoomContainer.vue":ol,"./asui/form/AsaiForm.vue":X,"./asui/form/AsaiFormLi.vue":il,"./asui/form/AsaiFormObject.vue":dl,"./asui/form/AsaiInput.vue":vl,"./asui/form/AsaiRichEditor.vue":Tl,"./asui/form/AsaiSelect.vue":zl,"./asui/form/AsaiUpBinary.vue":Fl,"./asui/form/AsaiUpload.vue":Kl,"./asui/form/AsaiUploadImg.vue":ln,"./asui/form/AsaiUploadImgCut.vue":cn,"./asui/form/AsaiUploadImgCutPop.vue":vn,"./asui/page/PageErr.vue":yn,"./asui/page/PageLoadClient.vue":_n,"./asui/page/PageLoadServer.vue":$n,"./asui/page/PageLoadUserToken.vue":xn,"./asui/page/PageLoadUserTokenOnline.vue":Cn,"./asui/page/PageLoadWs.vue":Ln,"./asui/pop/PopBox.vue":eo,"./asui/pop/PopBoxConfirm.vue":ao,"./asui/pop/PopDrop.vue":so,"./asui/pop/PopMod.vue":ro,"./asui/pop/PopMsg.vue":mo,"./asui/pop/PopTip.vue":ho,"./asui/pop/PopTipConfirm.vue":ko,"./asui/user/UserCard.vue":Oo,"./asui/user/UserDelManage.vue":Lo,"./asui/user/UserEdit.vue":Wo,"./asui/user/UserEditManage.vue":Ho,"./asui/user/UserExit.vue":Yo,"./asui/user/UserListManage.vue":ss,"./asui/user/UserLogin.vue":cs,"./asui/user/UserManage.vue":ms,"./asui/user/UserReg.vue":bs,"./asui/user/UserRegManage.vue":Ss})})}}],xs={mounted(e,t){console.log(666.003,e,t)}},Ms=Object.freeze(Object.defineProperty({__proto__:null,default:xs},Symbol.toStringTag,{value:"Module"})),Ps=Object.freeze(Object.defineProperty({__proto__:null,default:e=>({test:function(){console.log(666.001,e)}})},Symbol.toStringTag,{value:"Module"})),Cs={class:"as-test"},Ts=Ie(a({__name:"UiTestTestkdd",props:{ujt:{}},setup(e){const t=e;return console.log(666.002,t.ujt),(e,t)=>(s(),f("h1",Cs,"UiTestVision"))}}),[["__scopeId","data-v-260023f2"]]),As=Object.freeze(Object.defineProperty({__proto__:null,default:Ts},Symbol.toStringTag,{value:"Module"})),Ls={install(e,t){t.loadv({app:e,eager:!0,files:Object.assign({"./asdirectives/v-testtestkdd/index.ts":Ms})}),t.loadts({app:e,key:"$enginetestkdd",eager:!0,files:Object.assign({"./asengine/test/useTestTestkdd.ts":Ps})}),t.loadvue({loadfn:t.loadfn,app:e,eager:!0,files:Object.assign({"./asui/test/UiTestTestkdd.vue":As})})}},Us={mounted(e,t){console.log(666.003,e,t)}},zs=Object.freeze(Object.defineProperty({__proto__:null,default:Us},Symbol.toStringTag,{value:"Module"})),Es={class:"as-test"},Is=Ie(a({__name:"UiTestTestkddLib",props:{ujt:{}},setup(e){const t=e;return console.log(666.002,t.ujt),(e,t)=>(s(),f("h1",Es,"UiTestVision"))}}),[["__scopeId","data-v-d9ff1e57"]]),Ws=Object.freeze(Object.defineProperty({__proto__:null,default:Is},Symbol.toStringTag,{value:"Module"})),Rs=Object.freeze(Object.defineProperty({__proto__:null,default:e=>({test:function(){console.log(666.001,e)}})},Symbol.toStringTag,{value:"Module"})),qs=[Ls,{install(e,t){t.loadv({app:e,eager:!0,files:Object.assign({"./asdirectives/v-testtestkddlib/index.ts":zs})}),t.loadvue({loadfn:t.loadfn,app:e,eager:!0,files:Object.assign({"./asui/test/UiTestTestkddLib.vue":Ws})}),t.loadts({app:e,key:"$engineusetestkdd",eager:!0,files:Object.assign({"./asengine/test/useTestTestkddLib.ts":Rs})})}}],Ds={mounted(e,t){console.log(666.003,e,t)}},Ns=Object.freeze(Object.defineProperty({__proto__:null,default:Ds},Symbol.toStringTag,{value:"Module"})),Fs=Object.freeze(Object.defineProperty({__proto__:null,default:e=>({test:function(){console.log(666.001,e)}})},Symbol.toStringTag,{value:"Module"})),Hs={class:"as-test"},Bs=Ie(a({__name:"UiTestKududu",props:{ujt:{}},setup(e){const t=e;return console.log(666.002,t.ujt),(e,t)=>(s(),f("h1",Hs,"UiTestVision"))}}),[["__scopeId","data-v-5b86b42d"]]),Vs=Object.freeze(Object.defineProperty({__proto__:null,default:Bs},Symbol.toStringTag,{value:"Module"})),Js={install(e,t){t.loadv({app:e,eager:!0,files:Object.assign({"./asdirectives/v-testkududu/index.ts":Ns})}),t.loadts({app:e,key:"$enginekududu",eager:!0,files:Object.assign({"./asengine/test/useTestKududu.ts":Fs})}),t.loadvue({loadfn:t.loadfn,app:e,eager:!0,files:Object.assign({"./asui/test/UiTestKududu.vue":Vs})})}},Xs={mounted(e,t){console.log(666.003,e,t)}},Ys=Object.freeze(Object.defineProperty({__proto__:null,default:Xs},Symbol.toStringTag,{value:"Module"})),Gs={class:"as-test"},Ks=Ie(a({__name:"UiTestKududuLib",props:{ujt:{}},setup(e){const t=e;return console.log(666.002,t.ujt),(e,t)=>(s(),f("h1",Gs,"UiTestVision"))}}),[["__scopeId","data-v-857abc8d"]]),Qs=Object.freeze(Object.defineProperty({__proto__:null,default:Ks},Symbol.toStringTag,{value:"Module"})),Zs=Object.freeze(Object.defineProperty({__proto__:null,default:e=>({test:function(){console.log(666.001,e)}})},Symbol.toStringTag,{value:"Module"})),ei=[Js,{install(e,t){t.loadv({app:e,eager:!0,files:Object.assign({"./asdirectives/v-testkududulib/index.ts":Ys})}),t.loadvue({loadfn:t.loadfn,app:e,eager:!0,files:Object.assign({"./asui/test/UiTestKududuLib.vue":Qs})}),t.loadts({app:e,key:"$engineusekududu",eager:!0,files:Object.assign({"./asengine/test/useTestKududuLib.ts":Zs})})}}],ti={mounted(e,t){console.log(666.003,e,t)}},ai=Object.freeze(Object.defineProperty({__proto__:null,default:ti},Symbol.toStringTag,{value:"Module"})),li=Object.freeze(Object.defineProperty({__proto__:null,default:e=>({test:function(){console.log(666.001,e)}})},Symbol.toStringTag,{value:"Module"})),ni={class:"as-test"},oi=Ie(a({__name:"UiTestNovel",props:{ujt:{}},setup(e){const t=e;return console.log(666.002,t.ujt),(e,t)=>(s(),f("h1",ni,"UiTestVision"))}}),[["__scopeId","data-v-3cadccfd"]]),si=Object.freeze(Object.defineProperty({__proto__:null,default:oi},Symbol.toStringTag,{value:"Module"})),ii=[{install(e,t){t.loadv({app:e,eager:!0,files:Object.assign({"./asdirectives/v-testnovel/index.ts":ai})}),t.loadts({app:e,key:"$enginenovel",eager:!0,files:Object.assign({"./asengine/test/useTestNovel.ts":li})}),t.loadvue({loadfn:t.loadfn,app:e,eager:!0,files:Object.assign({"./asui/test/UiTestNovel.vue":si})})}}],ri={mounted(e,t){console.log(666.003,e,t)}},ui=Object.freeze(Object.defineProperty({__proto__:null,default:ri},Symbol.toStringTag,{value:"Module"})),di=Object.freeze(Object.defineProperty({__proto__:null,default:e=>({test:function(){console.log(666.001,e)}})},Symbol.toStringTag,{value:"Module"})),ci={class:"as-test"},pi=Ie(a({__name:"UiTestBlog",props:{ujt:{}},setup(e){const t=e;return console.log(666.002,t.ujt),(e,t)=>(s(),f("h1",ci,"UiTestVision"))}}),[["__scopeId","data-v-ba1d6634"]]),vi=Object.freeze(Object.defineProperty({__proto__:null,default:pi},Symbol.toStringTag,{value:"Module"})),mi=[{install(e,t){t.loadv({app:e,eager:!0,files:Object.assign({"./asdirectives/v-testblog/index.ts":ui})}),t.loadts({app:e,key:"$engineblog",eager:!0,files:Object.assign({"./asengine/test/useTestBlog.ts":di})}),t.loadvue({loadfn:t.loadfn,app:e,eager:!0,files:Object.assign({"./asui/test/UiTestBlog.vue":vi})})}}],gi={install(e){const{lib:t}=(()=>{const e={eager:!0,ref:p,reactive:c,toRaw:d,loadfn:{fnvue:r},vuecomps:{},loadts:(e={})=>{const t={};for(const a in e.files){const l=a.split("/");t[l[l.length-1].slice(0,-3)]=e.files[a].default}e.app.config.globalProperties[e.key]=t},loadv:(t={})=>{for(const a in t.files){const l=a.split("/v-")[1].split("/")[0];l&&!e.vuecomps[l]&&(e.vuecomps[l]=1,t.app.directive(l,t.files[a].default))}},loadvue:(t={})=>{var a;for(const l in t.files)if(t.eager){const a=t.files[l].default,n=(null==t?void 0:t.fullname)?l:a.__name;n&&!e.vuecomps[n]&&(e.vuecomps[n]=a,t.app.component(n,a))}else{const n=(null==t?void 0:t.fullname)?l:null==(a=l.substring(0,l.lastIndexOf(".")))?void 0:a.split("/").pop();n&&!e.vuecomps[n]&&(e.vuecomps[n]=t.loadfn.fnvue(t.files[l]),t.app.component(n,e.vuecomps[n]))}}};return{lib:e}})();Os.forEach((a=>{a.install(e,t)}));const a={astestkdd:qs,askududu:ei,asnovel:ii,asblog:mi};e.config.globalProperties.$installplugs=l=>{a["as"+l].forEach((a=>{a.install(e,t)}))}}},fi=J(Z);fi.use(gi),fi.mount("#app");export{G as _,Ie as a};
